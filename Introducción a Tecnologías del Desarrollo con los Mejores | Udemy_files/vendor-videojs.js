/*!For license information please see vendor-videojs.dff7c14a75df3812c531.js.LICENSE*/(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor-videojs"],{"./node_modules/video.js/dist/video.cjs.js":function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i,o=n(r("./node_modules/global/window.js")),a=n(r("./node_modules/global/document.js")),s=n(r("./node_modules/tsml/tsml.js")),l=n(r("./node_modules/safe-json-parse/tuple.js")),u=n(r("./node_modules/xhr/index.js")),c=n(r("./node_modules/videojs-vtt.js/lib/browser-index.js")),h=o.navigator&&o.navigator.userAgent||"",d=/AppleWebKit\/([\d.]+)/i.exec(h),p=d?parseFloat(d.pop()):null,f=/iPad/i.test(h),v=/iPhone/i.test(h)&&!f,y=/iPod/i.test(h),m=v||f||y,_=(i=h.match(/OS (\d+)_/i))&&i[1]?i[1]:null,g=/Android/i.test(h),b=function(){var e=h.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),T=g&&/webkit/i.test(h)&&b<2.3,w=g&&b<5&&p<537,k=/Firefox/i.test(h),S=/Edge/i.test(h),C=!S&&(/Chrome/i.test(h)||/CriOS/i.test(h)),E=function(){var e=h.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),x=/MSIE\s8\.0/.test(h),j=function(){var e=/MSIE\s(\d+)\.\d/.exec(h),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(h)&&/rv:11.0/.test(h)&&(t=11),t}(),P=/Safari/i.test(h)&&!C&&!g&&!S,O=(P||m)&&!C,A=ee()&&("ontouchstart"in o||o.navigator.maxTouchPoints||o.DocumentTouch&&o.document instanceof o.DocumentTouch),M=ee()&&"backgroundSize"in o.document.createElement("video").style,D=(Object.freeze||Object)({IS_IPAD:f,IS_IPHONE:v,IS_IPOD:y,IS_IOS:m,IOS_VERSION:_,IS_ANDROID:g,ANDROID_VERSION:b,IS_OLD_ANDROID:T,IS_NATIVE_ANDROID:w,IS_FIREFOX:k,IS_EDGE:S,IS_CHROME:C,CHROME_VERSION:E,IS_IE8:x,IE_VERSION:j,IS_SAFARI:P,IS_ANY_SAFARI:O,TOUCH_ENABLED:A,BACKGROUND_SIZE_SUPPORTED:M}),I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},N=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},L=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},F=function(e,t){return e.raw=t,e},B=Object.prototype.toString,H=function(e){return W(e)?Object.keys(e):[]};function q(e,t){H(e).forEach((function(r){return t(e[r],r)}))}function V(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach((function(t){t&&q(t,(function(t,r){e[r]=t}))})),e)}function W(e){return!!e&&"object"===(void 0===e?"undefined":I(e))}function U(e){return W(e)&&"[object Object]"===B.call(e)&&e.constructor===Object}var z=void 0,G="info",$=[],K=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!j&&j<11,n=z.levels[G],i=new RegExp("^("+n+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),$&&$.push([].concat(t)),t.unshift("VIDEOJS:"),o.console){var a=o.console[e];a||"debug"!==e||(a=o.console.info||o.console.log),a&&n&&i.test(e)&&(r&&(t=t.map((function(e){if(W(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)})).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](o.console,t):a(t))}};(z=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];K("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:G},z.level=function(e){if("string"==typeof e){if(!z.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');G=e}return G},z.history=function(){return $?[].concat($):[]},z.history.clear=function(){$&&($.length=0)},z.history.disable=function(){null!==$&&($.length=0,$=null)},z.history.enable=function(){null===$&&($=[])},z.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return K("error",t)},z.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return K("warn",t)},z.debug=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return K("debug",t)};var X=z;function J(e,t){if(!e||!t)return"";if("function"==typeof o.getComputedStyle){var r=o.getComputedStyle(e);return r?r[t]:""}return e.currentStyle[t]||""}var Q=F(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Y(e){return"string"==typeof e&&/\S/.test(e)}function Z(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function ee(){return a===o.document&&void 0!==a.createElement}function te(e){return W(e)&&1===e.nodeType}function re(){try{return o.parent!==o.self}catch(e){return!0}}function ne(e){return function(t,r){if(!Y(t))return a[e](null);Y(r)&&(r=a.querySelector(r));var n=te(r)?r:a;return n[e]&&n[e](t)}}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i=a.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(X.warn(s(Q,e,r)),i.setAttribute(e,r)):"textContent"===e?oe(i,r):i[e]=r})),Object.getOwnPropertyNames(r).forEach((function(e){i.setAttribute(e,r[e])})),n&&Se(i,n),i}function oe(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function ae(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function se(e,t){return Z(t),e.classList?e.classList.contains(t):(r=t,new RegExp("(^|\\s)"+r+"($|\\s)")).test(e.className);var r}function le(e,t){return e.classList?e.classList.add(t):se(e,t)||(e.className=(e.className+" "+t).trim()),e}function ue(e,t){return e.classList?e.classList.remove(t):(Z(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function ce(e,t,r){var n=se(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?le(e,t):ue(e,t),e}function he(e,t){Object.getOwnPropertyNames(t).forEach((function(r){var n=t[r];null==n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)}))}function de(e){var t={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,a=n[i].value;"boolean"!=typeof e[o]&&-1===r.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function pe(e,t){return e.getAttribute(t)}function fe(e,t,r){e.setAttribute(t,r)}function ve(e,t){e.removeAttribute(t)}function ye(){a.body.focus(),a.onselectstart=function(){return!1}}function me(){a.onselectstart=function(){return!0}}function _e(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(r[e]=t[e])})),r.height||(r.height=parseFloat(J(e,"height"))),r.width||(r.width=parseFloat(J(e,"width"))),r}}function ge(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=a.documentElement,n=a.body,i=r.clientLeft||n.clientLeft||0,s=o.pageXOffset||n.scrollLeft,l=t.left+s-i,u=r.clientTop||n.clientTop||0,c=o.pageYOffset||n.scrollTop,h=t.top+c-u;return{left:Math.round(l),top:Math.round(h)}}function be(e,t){var r={},n=ge(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+o)/o)),r.x=Math.max(0,Math.min(1,(u-s)/i)),r}function Te(e){return W(e)&&3===e.nodeType}function we(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function ke(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),te(e)||Te(e)?e:"string"==typeof e&&/\S/.test(e)?a.createTextNode(e):void 0})).filter((function(e){return e}))}function Se(e,t){return ke(t).forEach((function(t){return e.appendChild(t)})),e}function Ce(e,t){return Se(we(e),t)}function Ee(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||(9===j||0===e.button&&1===e.buttons))}var xe=ne("querySelector"),je=ne("querySelectorAll"),Pe=(Object.freeze||Object)({isReal:ee,isEl:te,isInFrame:re,createEl:ie,textContent:oe,prependTo:ae,hasClass:se,addClass:le,removeClass:ue,toggleClass:ce,setAttributes:he,getAttributes:de,getAttribute:pe,setAttribute:fe,removeAttribute:ve,blockTextSelection:ye,unblockTextSelection:me,getBoundingClientRect:_e,findPosition:ge,getPointerPosition:be,isTextNode:Te,emptyEl:we,normalizeContent:ke,appendContent:Se,insertContent:Ce,isSingleLeftClick:Ee,$:xe,$$:je}),Oe=1;function Ae(){return Oe++}var Me={},De="vdata"+(new Date).getTime();function Ie(e){var t=e[De];return t||(t=e[De]=Ae()),Me[t]||(Me[t]={}),Me[t]}function Re(e){var t=e[De];return!!t&&!!Object.getOwnPropertyNames(Me[t]).length}function Ne(e){var t=e[De];if(t){delete Me[t];try{delete e[De]}catch(t){e.removeAttribute?e.removeAttribute(De):e[De]=null}}}function Le(e,t){var r=Ie(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&Ne(e)}function Fe(e,t,r,n){r.forEach((function(r){e(t,r,n)}))}function Be(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n=e||o.event;for(var i in e={},n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var s=a.documentElement,l=a.body;e.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var He=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){He=!0}});o.addEventListener("test",null,e),o.removeEventListener("test",null,e)}catch(e){}}();var qe=["touchstart","touchmove"];function Ve(e,t,r){if(Array.isArray(t))return Fe(Ve,e,t,r);var n=Ie(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=Ae()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=Be(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,r)}catch(e){X.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;He&&qe.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function We(e,t,r){if(Re(e)){var n=Ie(e);if(n.handlers){if(Array.isArray(t))return Fe(We,e,t,r);var i=function(e,t){n.handlers[t]=[],Le(e,t)};if(void 0!==t){var o=n.handlers[t];if(o)if(r){if(r.guid)for(var a=0;a<o.length;a++)o[a].guid===r.guid&&o.splice(a--,1);Le(e,t)}else i(e,t)}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(e,s)}}}function Ue(e,t,r){var n=Re(e)?Ie(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Be(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)Ue.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var o=Ie(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function ze(e,t,r){if(Array.isArray(t))return Fe(ze,e,t,r);var n=function n(){We(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Ae(),Ve(e,t,n)}var Ge=(Object.freeze||Object)({fixEvent:Be,on:Ve,off:We,trigger:Ue,one:ze}),$e=!1,Ke=void 0,Xe=function(){if(ee()&&!1!==Ke.options.autoSetup){var e=a.getElementsByTagName("video"),t=a.getElementsByTagName("audio"),r=a.getElementsByTagName("video-js"),n=[];if(e&&e.length>0)for(var i=0,o=e.length;i<o;i++)n.push(e[i]);if(t&&t.length>0)for(var s=0,l=t.length;s<l;s++)n.push(t[s]);if(r&&r.length>0)for(var u=0,c=r.length;u<c;u++)n.push(r[u]);if(n&&n.length>0)for(var h=0,d=n.length;h<d;h++){var p=n[h];if(!p||!p.getAttribute){Je(1);break}void 0===p.player&&null!==p.getAttribute("data-setup")&&Ke(p)}else $e||Je(1)}};function Je(e,t){t&&(Ke=t),o.setTimeout(Xe,e)}ee()&&"complete"===a.readyState?$e=!0:ze(o,"load",(function(){$e=!0}));var Qe=function(e){var t=a.createElement("style");return t.className=e,t},Ye=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Ze=function(e,t,r){t.guid||(t.guid=Ae());var n=function(){return t.apply(e,arguments)};return n.guid=r?r+"_"+t.guid:t.guid,n},et=function(e,t){var r=Date.now();return function(){var n=Date.now();n-r>=t&&(e.apply(void 0,arguments),r=n)}},tt=function(){};tt.prototype.allowedEvents_={},tt.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},Ve(this,e,t),this.addEventListener=r},tt.prototype.addEventListener=tt.prototype.on,tt.prototype.off=function(e,t){We(this,e,t)},tt.prototype.removeEventListener=tt.prototype.off,tt.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},ze(this,e,t),this.addEventListener=r},tt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Be(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Ue(this,e)},tt.prototype.dispatchEvent=tt.prototype.trigger;var rt=function(e){return e instanceof tt||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},nt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},it=function(e){if(!e.nodeName&&!rt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},ot=function(e){if(!nt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},at=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},st=function(e,t){var r=t.length<3||t[0]===e||t[0]===e.eventBusEl_,n=void 0,i=void 0,o=void 0;return r?(n=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(n=t[0],i=t[1],o=t[2]),it(n),ot(i),at(o),{isTargetingSelf:r,target:n,type:i,listener:o=Ze(e,o)}},lt=function(e,t,r,n){it(e),e.nodeName?Ge[t](e,r,n):e[t](r,n)},ut={on:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=st(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(lt(a,"on",s,l),!o){var u=function(){return e.off(a,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,lt(this,"on","dispose",u),lt(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=st(this,r),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(o)lt(a,"one",s,l);else{var u=function t(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];e.off(a,s,t),l.apply(null,n)};u.guid=l.guid,lt(a,"one",s,u)}},off:function(e,t,r){if(!e||nt(e))We(this.eventBusEl_,e,t);else{var n=e,i=t;it(n),ot(i),at(r),r=Ze(this,r),this.off("dispose",r),n.nodeName?(We(n,i,r),We(n,"dispose",r)):rt(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function(e,t){return Ue(this.eventBusEl_,e,t)}};function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=ie("span",{className:"vjs-event-bus"});return V(e,ut),e.on("dispose",(function(){e.off(),o.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var ht={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var r=void 0;return q(e,(function(e,n){t.state[n]!==e&&((r=r||{})[n]={from:t.state[n],to:e}),t.state[n]=e})),r&&rt(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function dt(e,t){return V(e,ht),e.state=V({},e.state,t),"function"==typeof e.handleStateChanged&&rt(e)&&e.on("statechanged",e.handleStateChanged),e}function pt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function ft(){for(var e={},t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){t&&q(t,(function(t,r){U(t)?(U(e[r])||(e[r]={}),e[r]=ft(e[r],t)):e[r]=t}))})),e}var vt=function(){function e(t,r,n){if(R(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=ft({},this.options_),r=this.options_=ft(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Ae()}this.name_=r.name||null,r.el?this.el_=r.el:!1!==r.createEl&&(this.el_=this.createEl()),!1!==r.evented&&ct(this,{eventBusKey:this.el_?"el_":null}),dt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==r.initChildren&&this.initChildren(),this.ready(n),!1!==r.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ne(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return X.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=ft(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,r){return ie(e,t,r)},e.prototype.localize=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],a=n&&n.split("-")[0],s=i&&i[a],l=r;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,r){var n=t[r-1],i=n;return void 0===n&&(i=e),i}))),l},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=pt(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=pt(t);var a=r.componentClass||o;r.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,r)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&pt(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children,u=l[n]||null;this.contentEl().insertBefore(i.el(),u)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,r=this.options_.children;if(r){var n=this.options_,i=void 0,o=e.getComponent("Tech");(i=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var n=void 0,i=void 0;return"string"==typeof e?i=r[n=e]||t.options_[n]||{}:(n=e.name,i=e),{name:n,opts:i}})).filter((function(t){var r=e.getComponent(t.opts.componentClass||pt(t.name));return r&&!o.isTech(r)})).forEach((function(e){var r=e.name,i=e.opts;if(void 0!==n[r]&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(r,i);o&&(t[r]=o)}}))}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},e.prototype.$=function(e,t){return xe(e,t||this.contentEl())},e.prototype.$$=function(e,t){return je(e,t||this.contentEl())},e.prototype.hasClass=function(e){return se(this.el_,e)},e.prototype.addClass=function(e){le(this.el_,e)},e.prototype.removeClass=function(e){ue(this.el_,e)},e.prototype.toggleClass=function(e,t){ce(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return pe(this.el_,e)},e.prototype.setAttribute=function(e,t){fe(this.el_,e,t)},e.prototype.removeAttribute=function(e){ve(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,r){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+pt(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof o.getComputedStyle){var r=o.getComputedStyle(this.el_);t=r.getPropertyValue(e)||r[e]}if(0===(t=parseFloat(t))){var n="offset"+pt(e);t=this.el_[n]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,r=void 0;this.on("touchstart",(function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY;Math.sqrt(n*n+i*i)>10&&(r=!1)}}));var n=function(){r=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",(function(n){(t=null,!0===r)&&((new Date).getTime()-e<200&&(n.preventDefault(),this.trigger("tap")))}))},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=Ze(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var r=function(r){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},e.prototype.setTimeout=function(e,t){var r,n,i=this;return e=Ze(this,e),r=o.setTimeout((function(){i.off("dispose",n),e()}),t),(n=function(){return i.clearTimeout(r)}).guid="vjs-timeout-"+r,this.on("dispose",n),r},e.prototype.clearTimeout=function(e){o.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var r=this;e=Ze(this,e);var n=o.setInterval(e,t),i=function(){return r.clearInterval(n)};return i.guid="vjs-interval-"+n,this.on("dispose",i),n},e.prototype.clearInterval=function(e){o.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t,r,n=this;return this.supportsRaf_?(e=Ze(this,e),t=o.requestAnimationFrame((function(){n.off("dispose",r),e()})),(r=function(){return n.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",r),t):this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){o.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,r){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=e.getComponent("Tech"),i=n&&n.isTech(r),o=e===r||e.prototype.isPrototypeOf(r.prototype);if(i||!o){var a=void 0;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+a+".")}t=pt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=r,r},e.getComponent=function(t){if(t)return t=pt(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();function yt(e,t,r,n){return function(e,t,r){if("number"!=typeof t||t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}(e,n,r.length-1),r[n][t]}function mt(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:yt.bind(null,"start",0,e),end:yt.bind(null,"end",1,e)}}function _t(e,t){return Array.isArray(e)?mt(e):void 0===e||void 0===t?mt():mt([[e,t]])}function gt(e,t){var r=0,n=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=_t(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}vt.prototype.supportsRaf_="function"==typeof o.requestAnimationFrame&&"function"==typeof o.cancelAnimationFrame,vt.registerComponent("Component",vt);for(var bt={},Tt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],wt=Tt[0],kt=void 0,St=0;St<Tt.length;St++)if(Tt[St][1]in a){kt=Tt[St];break}if(kt)for(var Ct=0;Ct<kt.length;Ct++)bt[wt[Ct]]=kt[Ct];function Et(e){if(e instanceof Et)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:W(e)&&("number"==typeof e.code&&(this.code=e.code),V(this,e)),this.message||(this.message=Et.defaultMessages[this.code]||"")}Et.prototype.code=0,Et.prototype.message="",Et.prototype.status=null,Et.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Et.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var xt=0;xt<Et.errorTypes.length;xt++)Et[Et.errorTypes[xt]]=xt,Et.prototype[Et.errorTypes[xt]]=xt;function jt(e){return null!=e&&"function"==typeof e.then}function Pt(e){jt(e)&&e.then(null,(function(e){}))}var Ot=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,r,n){return e[r]&&(t[r]=e[r]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},At=function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=Ot(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===r.indexOf(e)})).map(Ot))},Mt=function(e,t){return e.forEach((function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return r.addCue(e)}))})),t.textTracks()},Dt=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=ie("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=ie("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),oe(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Ze(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Ze(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!t&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),Ce(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),we(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(a,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(a,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),r=this.el_.querySelector(":focus"),n=void 0,i=0;i<t.length;i++)if(r===t[i]){n=i;break}a.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof o.HTMLAnchorElement||e instanceof o.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof o.HTMLInputElement||e instanceof o.HTMLSelectElement||e instanceof o.HTMLTextAreaElement||e instanceof o.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof o.HTMLIFrameElement||e instanceof o.HTMLObjectElement||e instanceof o.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(vt);Dt.prototype.options_={pauseOnOpen:!0,temporary:!0},vt.registerComponent("ModalDialog",Dt);var It=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;R(this,t);var i=L(this,e.call(this));if(!n&&(n=i,x))for(var o in n=a.createElement("custom"),t.prototype)"constructor"!==o&&(n[o]=t.prototype[o]);n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<r.length;s++)n.addTrack(r[s]);return L(i,n)}return N(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,r=0,n=this.length;r<n;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(tt);for(var Rt in It.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},It.prototype.allowedEvents_)It.prototype["on"+Rt]=null;var Nt=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].enabled=!1)},Lt=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];R(this,t);for(var i=void 0,o=n.length-1;o>=0;o--)if(n[o].enabled){Nt(n,n[o]);break}if(x){for(var s in i=a.createElement("custom"),It.prototype)"constructor"!==s&&(i[s]=It.prototype[s]);for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}return(i=r=L(this,e.call(this,n,i))).changing_=!1,L(r,i)}return N(t,e),t.prototype.addTrack=function(t){var r=this;t.enabled&&Nt(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",(function(){r.changing_||(r.changing_=!0,Nt(r,t),r.changing_=!1,r.trigger("change"))}))},t}(It),Ft=function(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)},Bt=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];R(this,t);for(var i=void 0,o=n.length-1;o>=0;o--)if(n[o].selected){Ft(n,n[o]);break}if(x){for(var s in i=a.createElement("custom"),It.prototype)"constructor"!==s&&(i[s]=It.prototype[s]);for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}return(i=r=L(this,e.call(this,n,i))).changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),L(r,i)}return N(t,e),t.prototype.addTrack=function(t){var r=this;t.selected&&Ft(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",(function(){r.changing_||(r.changing_=!0,Ft(r,t),r.changing_=!1,r.trigger("change"))}))},t}(It),Ht=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];R(this,t);var i=void 0;if(x){for(var o in i=a.createElement("custom"),It.prototype)"constructor"!==o&&(i[o]=It.prototype[o]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return r=L(this,e.call(this,n,i)),L(r,i=r)}return N(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",Ze(this,(function(){this.trigger("change")})));-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",Ze(this,(function(){this.trigger("selectedlanguagechange")})))},t}(It),qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];R(this,e);var r=this;if(x)for(var n in r=a.createElement("custom"),e.prototype)"constructor"!==n&&(r[n]=e.prototype[n]);r.trackElements_=[],Object.defineProperty(r,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)r.addTrackElement_(t[i]);if(x)return r}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Vt=function(){function e(t){R(this,e);var r=this;if(x)for(var n in r=a.createElement("custom"),e.prototype)"constructor"!==n&&(r[n]=e.prototype[n]);if(e.prototype.setCues_.call(r,t),Object.defineProperty(r,"length",{get:function(){return this.length_}}),x)return r}return e.prototype.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},e.prototype.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}(),Wt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ut={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},zt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Gt={disabled:"disabled",hidden:"hidden",showing:"showing"},$t=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(this,t);var n=L(this,e.call(this)),i=n;if(x)for(var o in i=a.createElement("custom"),t.prototype)"constructor"!==o&&(i[o]=t.prototype[o]);var s={id:r.id||"vjs_track_"+Ae(),kind:r.kind||"",label:r.label||"",language:r.language||""},l=function(e){Object.defineProperty(i,e,{get:function(){return s[e]},set:function(){}})};for(var u in s)l(u);return L(n,i)}return N(t,e),t}(tt),Kt=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=a.createElement("a");r.href=e;var n=""===r.host&&"file:"!==r.protocol,i=void 0;n&&((i=a.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),a.body.appendChild(i));for(var s={},l=0;l<t.length;l++)s[t[l]]=r[t[l]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=o.location.protocol),n&&a.body.removeChild(i),s},Xt=function(e){if(!e.match(/^https?:\/\//)){var t=a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Jt=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},Qt=function(e){var t=o.location,r=Kt(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host},Yt=(Object.freeze||Object)({parseUrl:Kt,getAbsoluteURL:Xt,getFileExtension:Jt,isCrossOrigin:Qt}),Zt=function(e,t){var r=new o.WebVTT.Parser(o,o.vttjs,o.WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(o.console&&o.console.groupCollapsed&&o.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach((function(e){return X.error(e)})),o.console&&o.console.groupEnd&&o.console.groupEnd()),r.flush()},er=function(e,t){var r={uri:e},n=Qt(e);n&&(r.cors=n),u(r,Ze(this,(function(e,r,n){if(e)return X.error(e,r);if(t.loaded_=!0,"function"!=typeof o.WebVTT){if(t.tech_){var i=function(){return Zt(n,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",(function(){X.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)}))}}else Zt(n,t)})))},tr=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(R(this,t),!n.tech)throw new Error("A tech was not provided.");var i=ft(n,{kind:zt[n.kind]||"subtitles",language:n.language||n.srclang||""}),o=Gt[i.mode]||"disabled",a=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden");var s=r=L(this,e.call(this,i));if(s.tech_=i.tech,x)for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l]);s.cues_=[],s.activeCues_=[];var u=new Vt(s.cues_),c=new Vt(s.activeCues_),h=!1,d=Ze(s,(function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)}));return"disabled"!==o&&s.tech_.ready((function(){s.tech_.on("timeupdate",d)}),!0),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return o},set:function(e){var t=this;Gt[e]&&("showing"===(o=e)&&this.tech_.ready((function(){t.tech_.on("timeupdate",d)}),!0),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?u:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(h=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}),i.src?(s.src=i.src,er(i.src,s)):s.loaded_=!0,L(r,s)}return N(t,e),t.prototype.addCue=function(e){var t=e;if(o.vttjs&&!(e instanceof o.vttjs.VTTCue)){for(var r in t=new o.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)r in t||(t[r]=e[r]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}($t);tr.prototype.allowedEvents_={cuechange:"cuechange"};var rr=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(this,t);var i=ft(n,{kind:Ut[n.kind]||""}),o=r=L(this,e.call(this,i)),a=!1;if(x)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(o.enabled=i.enabled),o.loaded_=!0,L(r,o)}return N(t,e),t}($t),nr=function(e){function t(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(this,t);var i=ft(n,{kind:Wt[n.kind]||""}),o=r=L(this,e.call(this,i)),a=!1;if(x)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(o.selected=i.selected),L(r,o)}return N(t,e),t}($t),ir=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(this,t);var n=L(this,e.call(this)),i=void 0,o=n;if(x)for(var s in o=a.createElement("custom"),t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);var l=new tr(r);return o.kind=l.kind,o.src=l.src,o.srclang=l.language,o.label=l.label,o.default=l.default,Object.defineProperty(o,"readyState",{get:function(){return i}}),Object.defineProperty(o,"track",{get:function(){return l}}),i=0,l.addEventListener("loadeddata",(function(){i=2,o.trigger({type:"load",target:o})})),x?L(n,o):n}return N(t,e),t}(tt);ir.prototype.allowedEvents_={load:"load"},ir.NONE=0,ir.LOADING=1,ir.LOADED=2,ir.ERROR=3;var or={audio:{ListClass:Lt,TrackClass:rr,capitalName:"Audio"},video:{ListClass:Bt,TrackClass:nr,capitalName:"Video"},text:{ListClass:Ht,TrackClass:tr,capitalName:"Text"}};Object.keys(or).forEach((function(e){or[e].getterName=e+"Tracks",or[e].privateName=e+"Tracks_"}));var ar={remoteText:{ListClass:Ht,TrackClass:tr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:qt,TrackClass:ir,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},sr=ft(or,ar);ar.names=Object.keys(ar),or.names=Object.keys(or),sr.names=[].concat(ar.names).concat(or.names);var lr=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};R(this,t),r.reportTouchActivity=!1;var i=L(this,e.call(this,null,r,n));return i.hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),sr.names.forEach((function(e){var t=sr[e];r&&r[t.getterName]&&(i[t.privateName]=r[t.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===r["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===r.nativeCaptions||!1===r.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==r.nativeCaptions&&!0!==r.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new sr.text.ListClass,i.initTrackListeners(),r.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return N(t,e),t.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ze(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return _t(0,0)},t.prototype.bufferedPercent=function(){return gt(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(or.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack(i)}}))},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new Et(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?_t(0,0):_t()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;or.names.forEach((function(t){var r=or[t],n=function(){e.trigger(t+"trackchange")},i=e[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),e.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))},t.prototype.addWebVttScript_=function(){var e=this;if(!o.WebVTT)if(a.body.contains(this.el())){if(!this.options_["vtt.js"]&&U(c)&&Object.keys(c).length>0)return void this.trigger("vttjsloaded");var t=a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),o.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),r=this.remoteTextTracks(),n=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},t.prototype.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new sr.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,r)},t.prototype.createRemoteTextTrack=function(e){var t=ft(e,{tech:this});return new ar.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=this.createRemoteTextTrack(t);return!0!==r&&!1!==r&&(X.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==r&&this.ready((function(){return e.autoRemoteTextTracks_.addTrack(n.track)})),n},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,r){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,r){if(t.techs_||(t.techs_={}),!t.isTech(r))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=pt(e),t.techs_[e]=r,"Tech"!==e&&t.defaultTechOrder_.push(e),r},t.getTech=function(e){if(e)return e=pt(e),t.techs_&&t.techs_[e]?t.techs_[e]:o&&o.videojs&&o.videojs[e]?(X.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),o.videojs[e]):void 0},t}(vt);sr.names.forEach((function(e){var t=sr[e];lr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),lr.prototype.featuresVolumeControl=!0,lr.prototype.featuresMuteControl=!0,lr.prototype.featuresFullscreenResize=!1,lr.prototype.featuresPlaybackRate=!1,lr.prototype.featuresProgressEvents=!1,lr.prototype.featuresSourceset=!1,lr.prototype.featuresTimeupdateEvents=!1,lr.prototype.featuresNativeTextTracks=!1,lr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r=e.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:X.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},vt.registerComponent("Tech",lr),lr.registerTech("Tech",lr),lr.defaultTechOrder_=[];var ur={},cr={},hr={};function dr(e,t,r){e.setTimeout((function(){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],i=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=r[0],l=r.slice(1);if("string"==typeof s)e(t,ur[s],n,i,o,a);else if(s){var u=gr(i,s);if(!u.setSource)return o.push(u),e(t,l,n,i,o,a);u.setSource(V({},t),(function(r,s){if(r)return e(t,l,n,i,o,a);o.push(u),e(s,t.type===s.type?l:ur[s.type],n,i,o,a)}))}else l.length?e(t,l,n,i,o,a):a?n(t,o):e(t,ur["*"],n,i,o,!0)}(t,ur[t.type],r,e)}),1)}function pr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+pt(r),o=e.reduce(mr(i),n),a=o===hr,s=a?null:t[r](o);return _r(e,r,s,a),s}var fr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},vr={setCurrentTime:1},yr={play:1,pause:1};function mr(e){return function(t,r){return t===hr?hr:r[e]?r[e](t):t}}function _r(e,t,r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](n,r)}}function gr(e,t){var r=cr[e.id()],n=null;if(null==r)return n=t(e),cr[e.id()]=[[t,n]],n;for(var i=0;i<r.length;i++){var o=r[i],a=o[0],s=o[1];a===t&&(n=s)}return null===n&&(n=t(e),r.push([t,n])),n}var br={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Jt(e),r=br[t.toLowerCase()];return r||""},wr=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter((function(e){return e.src===t}));if(r.length)return r[0].type;for(var n=e.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===t)return o.type}return Tr(t)};function kr(e){var t=Tr(e.src);return!e.type&&t&&(e.type=t),e}var Sr=function(e){function t(r,n,i){R(this,t);var o=ft({createEl:!1},n),a=L(this,e.call(this,r,o,i));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)r.src(n.playerOptions.sources);else for(var s=0,l=n.playerOptions.techOrder;s<l.length;s++){var u=pt(l[s]),c=lr.getTech(u);if(u||(c=vt.getComponent(u)),c&&c.isSupported()){r.loadTech_(u);break}}return a}return N(t,e),t}(vt);vt.registerComponent("MediaLoader",Sr);var Cr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.emitTapEvents(),i.enable(),i}return N(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=V({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&X.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=V({role:"button"},n),this.tabIndex_=r.tabIndex;var i=e.prototype.createEl.call(this,t,r,n);return this.createControlTextEl(i),i},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=ie("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,oe(this.controlTextEl_,r),this.nonIconControl||t.setAttribute("title",r)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){Ve(a,"keydown",Ze(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){We(a,"keydown",Ze(this,this.handleKeyPress))},t}(vt);vt.registerComponent("ClickableComponent",Cr);var Er=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.update(),r.on("posterchange",Ze(i,i.update)),i}return N(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=ie("div",{className:"vjs-poster",tabIndex:-1});return M||(this.fallbackImg_=ie("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?Pt(this.player_.play()):this.player_.pause())},t}(Cr);vt.registerComponent("PosterImage",Er);var xr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function jr(e,t){var r=void 0;if(4===e.length)r=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");r=e.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+t+")"}function Pr(e,t,r){try{e.style[t]=r}catch(e){return}}var Or=function(e){function t(r,n,i){R(this,t);var o=L(this,e.call(this,r,n,i));return r.on("loadstart",Ze(o,o.toggleDisplay)),r.on("texttrackchange",Ze(o,o.updateDisplay)),r.on("loadstart",Ze(o,o.preselectTrack)),r.ready(Ze(o,(function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)this.hide();else{r.on("fullscreenchange",Ze(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}}))),o}return N(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];r&&r.enabled&&r.language===s.language?s.kind===r.kind?o=s:o||(o=s):r&&!r.enabled?(o=null,n=null,i=null):s.default&&("descriptions"!==s.kind||n?s.kind in e&&!i&&(i=s):n=s)}o?o.mode="showing":i?i.mode="showing":n&&(n.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof o.WebVTT&&o.WebVTT.processCues(o,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof o.WebVTT&&e.activeCues){for(var t=[],r=0;r<e.activeCues.length;r++)t.push(e.activeCues[r]);if(o.WebVTT.processCues(o,t,this.el_),this.player_.textTrackSettings)for(var n=this.player_.textTrackSettings.getValues(),i=t.length;i--;){var a=t[i];if(a){var s=a.displayState;if(n.color&&(s.firstChild.style.color=n.color),n.textOpacity&&Pr(s.firstChild,"color",jr(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(s.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Pr(s.firstChild,"backgroundColor",jr(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Pr(s,"backgroundColor",jr(n.windowColor,n.windowOpacity)):s.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var l=o.parseFloat(s.style.fontSize);s.style.fontSize=l*n.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=xr[n.fontFamily])}}}},t}(vt);vt.registerComponent("TextTrackDisplay",Or);var Ar=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),n=ie("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},t}(vt);vt.registerComponent("LoadingSpinner",Ar);var Mr=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=V({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),r=V({type:"button"},r);var n=vt.prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.name;return X.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),vt.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Cr);vt.registerComponent("Button",Mr);var Dr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)Pt(t);else{var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(n){var i=function(){return n.focus()};jt(t)?t.then(i,(function(){})):this.setTimeout(i,1)}else this.player_.focus()}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(Mr);Dr.prototype.controlText_="Play Video",vt.registerComponent("BigPlayButton",Dr);var Ir=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.controlText(n&&n.controlText||i.localize("Close")),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(Mr);vt.registerComponent("CloseButton",Ir);var Rr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"play",i.handlePlay),i.on(r,"pause",i.handlePause),i.on(r,"ended",i.handleEnded),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Mr);Rr.prototype.controlText_="Play",vt.registerComponent("PlayToggle",Rr);var Nr=function(e,t){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),(i=i>0||a>0?i+":":"")+(n=((i||o>=10)&&n<10?"0"+n:n)+":")+(r=r<10?"0"+r:r)},Lr=Nr;var Fr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Lr(e,t)},Br=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.throttledUpdateContent=et(Ze(i,i.updateContent),25),i.on(r,"timeupdate",i.throttledUpdateContent),i}return N(t,e),t.prototype.createEl=function(t){var r=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=ie("span",{className:r+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return Fr(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(vt);Br.prototype.labelText_="Time",Br.prototype.controlText_="Time",vt.registerComponent("TimeDisplay",Br);var Hr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"ended",i.handleEnded),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Br);Hr.prototype.labelText_="Current Time",Hr.prototype.controlText_="Current Time",vt.registerComponent("CurrentTimeDisplay",Hr);var qr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"durationchange",i.updateContent),i.on(r,"loadedmetadata",i.throttledUpdateContent),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(Br);qr.prototype.labelText_="Duration",qr.prototype.controlText_="Duration",vt.registerComponent("DurationDisplay",qr);var Vr=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(vt);vt.registerComponent("TimeDivider",Vr);var Wr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"durationchange",i.throttledUpdateContent),i.on(r,"ended",i.handleEnded),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Br);Wr.prototype.labelText_="Remaining Time",Wr.prototype.controlText_="Remaining Time",vt.registerComponent("RemainingTimeDisplay",Wr);var Ur=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return N(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ie("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(vt);vt.registerComponent("LiveDisplay",Ur);var zr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return N(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.className=r.className+" vjs-slider",r=V({tabIndex:0},r),n=V({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||C||e.preventDefault(),ye(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;me(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%",n=t.el().style;return this.vertical()?n.height=r:n.width=r,e}}},t.prototype.calculateDistance=function(e){var t=be(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(vt);vt.registerComponent("Slider",zr);var Gr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.partEls_=[],i.on(r,"progress",i.update),i}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var r=e/t||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=o(n,r);for(var a=0;a<t.length;a++){var s=t.start(a),l=t.end(a),u=i[a];u||(u=this.el_.appendChild(ie()),i[a]=u),u.style.left=o(s,n),u.style.width=o(l-s,n)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(vt);vt.registerComponent("LoadProgressBar",Gr);var $r=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,r){var n=_e(this.el_),i=_e(this.player_.el()),o=e.width*t;if(i&&n){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),l=n.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",oe(this.el_,r)}},t}(vt);vt.registerComponent("TimeTooltip",$r);var Kr=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),i=Fr(n,r.player_.duration()),o=r.getChild("timeTooltip");o&&o.update(e,t,i)}))},t}(vt);Kr.prototype.options_={children:[]},j&&!(j>8)||m||g||Kr.prototype.options_.children.push("timeTooltip"),vt.registerComponent("PlayProgressBar",Kr);var Xr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.update=et(Ze(i,i.update),25),i}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=r.player_.duration(),i=Fr(t*n,n);r.el_.style.left=e.width*t+"px",r.getChild("timeTooltip").update(e,t,i)}))},t}(vt);Xr.prototype.options_={children:["timeTooltip"]},vt.registerComponent("MouseTimeDisplay",Xr);var Jr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.setEventHandlers_(),i}return N(t,e),t.prototype.setEventHandlers_=function(){var e=this;this.update=et(Ze(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval((function(){e.requestAnimationFrame((function(){e.update()}))}),30)})),this.on(this.player_,["ended","pause","waiting"],(function(){e.clearInterval(e.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var r=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Fr(e,r),Fr(r,r)],"{1} of {2}")),this.bar.update(_e(this.el_),t)},t.prototype.update=function(t){var r=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){Ee(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(Ee(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Pt(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(zr);Jr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},j&&!(j>8)||m||g||Jr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Jr.prototype.playerEvent="timeupdate",vt.registerComponent("SeekBar",Jr);var Qr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.handleMouseMove=et(Ze(i,i.handleMouseMove),25),i.throttledHandleMouseSeek=et(Ze(i,i.handleMouseSeek),25),i.enable(),i}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var r=t.getChild("mouseTimeDisplay"),n=t.el(),i=_e(n),o=be(n,e).x;o>1?o=1:o<0&&(o=0),r&&r.update(i,o)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(vt);Qr.prototype.options_={children:["seekBar"]},vt.registerComponent("ProgressControl",Qr);var Yr=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"fullscreenchange",i.handleFullscreenChange),!1===a[bt.fullscreenEnabled]&&i.disable(),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Mr);Yr.prototype.controlText_="Fullscreen",vt.registerComponent("FullscreenToggle",Yr);var Zr=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))},en=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(vt);vt.registerComponent("VolumeLevel",en);var tn=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on("slideractive",i.updateLastVolume_),i.on(r,"volumechange",i.updateARIAAttributes),r.ready((function(){return i.updateARIAAttributes()})),i}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){Ee(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){Ee(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(zr);tn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},tn.prototype.playerEvent="volumechange",vt.registerComponent("VolumeBar",tn);var rn=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(this,t),n.vertical=n.vertical||!1,(void 0===n.volumeBar||U(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var i=L(this,e.call(this,r,n));return Zr(i,r),i.throttledHandleMouseMove=et(Ze(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}return N(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(vt);rn.prototype.options_={children:["volumeBar"]},vt.registerComponent("VolumeControl",rn);var nn=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(i,r),i.on(r,["loadstart","volumechange"],i.update),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),r=this.player_.lastVolume_();if(0===t){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;m&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var r=0;r<4;r++)ue(this.el_,"vjs-vol-"+r);le(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Mr);nn.prototype.controlText_="Mute",vt.registerComponent("MuteToggle",nn);var on=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(this,t),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||U(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var i=L(this,e.call(this,r,n));return i.on(r,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}return N(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(vt);on.prototype.options_={children:["muteToggle","volumeControl"]},vt.registerComponent("VolumePanel",on);var an=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return N(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",Ze(this,(function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())})))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=ie(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Ve(r,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),r},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),r=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);r&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(vt);vt.registerComponent("Menu",an);var sn=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(this,t);var i=L(this,e.call(this,r,n));i.menuButton_=new Mr(r,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=Mr.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return N(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new an(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=ie("li",{className:"vjs-menu-title",innerHTML:pt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),ae(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Mr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",Ze(this,(function(e){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){Ve(a,"keydown",Ze(this,this.handleKeyPress))},t.prototype.handleBlur=function(){We(a,"keydown",Ze(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),m&&re())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(vt);vt.registerComponent("MenuButton",sn);var ln=function(e){function t(r,n){R(this,t);var i=n.tracks,o=L(this,e.call(this,r,n));if(o.items.length<=1&&o.hide(),!i)return L(o);var a=Ze(o,o.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",(function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)})),o}return N(t,e),t}(sn);vt.registerComponent("TrackButton",ln);var un=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}return N(t,e),t.prototype.createEl=function(t,r,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",V({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),n)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Cr);vt.registerComponent("MenuItem",un);var cn=function(e){function t(r,n){R(this,t);var i=n.track,s=r.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode;var l=L(this,e.call(this,r,n));l.track=i;var u=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l.handleTracksChange.apply(l,t)},c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l.handleSelectedLanguageChange.apply(l,t)};if(r.on(["loadstart","texttrackchange"],u),s.addEventListener("change",u),s.addEventListener("selectedlanguagechange",c),l.on("dispose",(function(){r.off(["loadstart","texttrackchange"],u),s.removeEventListener("change",u),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange){var h=void 0;l.on(["tap","click"],(function(){if("object"!==I(o.Event))try{h=new o.Event("change")}catch(e){}h||(h=a.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(h)}))}return l.handleTracksChange(),l}return N(t,e),t.prototype.handleClick=function(t){var r=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[r]),e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&n.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(un);vt.registerComponent("TextTrackMenuItem",cn);var hn=function(e){function t(r,n){return R(this,t),n.track={player:r,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,L(this,e.call(this,r,n))}return N(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var o=t[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(cn);vt.registerComponent("OffTextTrackMenuItem",hn);var dn=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(this,t),n.tracks=r.textTracks(),L(this,e.call(this,r,n))}return N(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cn,r=void 0;this.label_&&(r=this.label_+" off"),e.push(new hn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(ln);vt.registerComponent("TextTrackButton",dn);var pn=function(e){function t(r,n){R(this,t);var i=n.track,o=n.cue,a=r.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime;var s=L(this,e.call(this,r,n));return s.track=i,s.cue=o,i.addEventListener("cuechange",Ze(s,s.update)),s}return N(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},t}(un);vt.registerComponent("ChaptersTrackMenuItem",pn);var fn=function(e){function t(r,n,i){return R(this,t),L(this,e.call(this,r,n,i))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(pt(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],o=new pn(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(dn);fn.prototype.kind_="chapters",fn.prototype.controlText_="Chapters",vt.registerComponent("ChaptersButton",fn);var vn=function(e){function t(r,n,i){R(this,t);var o=L(this,e.call(this,r,n,i)),a=r.textTracks(),s=Ze(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",(function(){a.removeEventListener("change",s)})),o}return N(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var o=t[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(dn);vn.prototype.kind_="descriptions",vn.prototype.controlText_="Descriptions",vt.registerComponent("DescriptionsButton",vn);var yn=function(e){function t(r,n,i){return R(this,t),L(this,e.call(this,r,n,i))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(dn);yn.prototype.kind_="subtitles",yn.prototype.controlText_="Subtitles",vt.registerComponent("SubtitlesButton",yn);var mn=function(e){function t(r,n){R(this,t),n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem";var i=L(this,e.call(this,r,n));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return N(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(cn);vt.registerComponent("CaptionSettingsMenuItem",mn);var _n=function(e){function t(r,n,i){return R(this,t),L(this,e.call(this,r,n,i))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new mn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(dn);_n.prototype.kind_="captions",_n.prototype.controlText_="Captions",vt.registerComponent("CaptionsButton",_n);var gn=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,V({innerHTML:i},r),n)},t}(cn);vt.registerComponent("SubsCapsMenuItem",gn);var bn=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(this,t);var i=L(this,e.call(this,r,n));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(pt(i.label_)),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new mn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,gn)},t}(dn);bn.prototype.kinds_=["captions","subtitles"],bn.prototype.controlText_="Subtitles",vt.registerComponent("SubsCapsButton",bn);var Tn=function(e){function t(r,n){R(this,t);var i=n.track,o=r.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled;var a=L(this,e.call(this,r,n));a.track=i,a.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.handleTracksChange.apply(a,t)};return o.addEventListener("change",s),a.on("dispose",(function(){o.removeEventListener("change",s)})),a}return N(t,e),t.prototype.createEl=function(t,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,V({innerHTML:i},r),n)},t.prototype.handleClick=function(t){var r=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(un);vt.registerComponent("AudioTrackMenuItem",Tn);var wn=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(this,t),n.tracks=r.audioTracks(),L(this,e.call(this,r,n))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),r=0;r<t.length;r++){var n=t[r];e.push(new Tn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},t}(ln);wn.prototype.controlText_="Audio Track",vt.registerComponent("AudioTrackButton",wn);var kn=function(e){function t(r,n){R(this,t);var i=n.rate,o=parseFloat(i,10);n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1;var a=L(this,e.call(this,r,n));return a.label=i,a.rate=o,a.on(r,"ratechange",a.update),a}return N(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(un);kn.prototype.contentElType="button",vt.registerComponent("PlaybackRateMenuItem",kn);var Sn=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.updateVisibility(),i.updateLabel(),i.on(r,"loadstart",i.updateVisibility),i.on(r,"ratechange",i.updateLabel),i}return N(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=ie("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new an(this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new kn(this.player(),{rate:t[r]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(sn);Sn.prototype.controlText_="Playback Rate",vt.registerComponent("PlaybackRateMenuButton",Sn);var Cn=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(vt);vt.registerComponent("Spacer",Cn);var En=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(Cn);vt.registerComponent("CustomControlSpacer",En);var xn=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(vt);xn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},vt.registerComponent("ControlBar",xn);var jn=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n));return i.on(r,"error",i.open),i}return N(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Dt);jn.prototype.options_=ft(Dt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),vt.registerComponent("ErrorDisplay",jn);var Pn=["#000","Black"],On=["#00F","Blue"],An=["#0FF","Cyan"],Mn=["#0F0","Green"],Dn=["#F0F","Magenta"],In=["#F00","Red"],Rn=["#FFF","White"],Nn=["#FF0","Yellow"],Ln=["1","Opaque"],Fn=["0.5","Semi-Transparent"],Bn=["0","Transparent"],Hn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Pn,Rn,In,Mn,On,Nn,Dn,An]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ln,Fn,Bn]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Rn,Pn,In,Mn,On,Nn,Dn,An]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ln,Fn]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Bn,Fn,Ln]}};function qn(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Hn.windowColor.options=Hn.backgroundColor.options;var Vn=function(e){function t(r,n){R(this,t),n.temporary=!1;var i=L(this,e.call(this,r,n));return i.updateDisplay=Ze(i,i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=ie("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),q(Hn,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return N(t,e),t.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},t.prototype.createElSelect_=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=Hn[e],o=i.id.replace("%s",this.id_),a=[r,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map((function(e){var r=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+r+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+r+'">',t.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},t.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElColors_=function(){return ie("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.prototype.createElFont_=function(){return ie("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return ie("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.prototype.label=function(){return this.localize("Caption Settings Dialog")},t.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.prototype.getValues=function(){var e=this;return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return H(e).reduce((function(r,n){return t(r,e[n],n)}),r)}(Hn,(function(t,r,n){var i,o,a=(i=e.$(r.selector),o=r.parser,qn(i.options[i.options.selectedIndex].value,o));return void 0!==a&&(t[n]=a),t}),{})},t.prototype.setValues=function(e){var t=this;q(Hn,(function(r,n){!function(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(qn(e.options[n].value,r)===t){e.selectedIndex=n;break}}(t.$(r.selector),e[n],r.parser)}))},t.prototype.setDefaults=function(){var e=this;q(Hn,(function(t){var r=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=r}))},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(o.localStorage.getItem("vjs-text-track-settings"))}catch(e){X.warn(e)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?o.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):o.localStorage.removeItem("vjs-text-track-settings")}catch(e){X.warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(a,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,r=e&&e.captionsButton;t?t.focus():r&&r.focus()},t}(Dt);vt.registerComponent("TextTrackSettings",Vn);var Wn=function(e){function t(r,n){R(this,t);var i=n.ResizeObserver||o.ResizeObserver;null===n.ResizeObserver&&(i=!1);var a=ft({createEl:!i},n),s=L(this,e.call(this,r,a));return s.ResizeObserver=n.ResizeObserver||o.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,i=void 0;return function(){var o=this,a=arguments,s=function(){i=null,s=null,r||e.apply(o,a)};!i&&r&&e.apply(o,a),n.clearTimeout(i),i=n.setTimeout(s,t)}}((function(){s.resizeHandler()}),100,!1,r),i?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(r.el())):(s.loadListener_=function(){s.el_.contentWindow&&Ve(s.el_.contentWindow,"resize",s.debouncedHandler_),s.off("load",s.loadListener_)},s.on("load",s.loadListener_)),s}return N(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&We(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(vt);vt.registerComponent("ResizeManager",Wn);var Un=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var r=e.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var a=r[o].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(i=n[0]),e.triggerSourceset(i),!0)},zn={};x||(zn=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var r=a.createDocumentFragment();t.childNodes.length;)r.appendChild(t.childNodes[0]);return this.innerText="",o.Element.prototype.appendChild.call(this,r),this.innerHTML}}));var Gn=function(e,t){for(var r={},n=0;n<e.length&&!((r=Object.getOwnPropertyDescriptor(e[n],t))&&r.set&&r.get);n++);return r.enumerable=!0,r.configurable=!0,r},$n=function(e){var t=e.el();if(!t.resetSourceWatch_){var r={},n=function(e){return Gn([e.el(),o.HTMLMediaElement.prototype,o.Element.prototype,zn],"innerHTML")}(e),i=function(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return Un(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(r[e]=t[e],t[e]=i(r[e]))})),Object.defineProperty(t,"innerHTML",ft(n,{set:i(n.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach((function(e){t[e]=r[e]})),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)}},Kn={};x||(Kn=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Xt(o.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return o.Element.prototype.setAttribute.call(this,"src",e),e}}));var Xn=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var r=function(e){return Gn([e.el(),o.HTMLMediaElement.prototype,Kn],"src")}(e),n=t.setAttribute,i=t.load;Object.defineProperty(t,"src",ft(r,{set:function(n){var i=r.set.call(t,n);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(r,i){var o=n.call(t,r,i);return/src/i.test(r)&&e.triggerSourceset(t.src),o},t.load=function(){var r=i.call(t);return Un(e)||(e.triggerSourceset(""),$n(e)),r},t.currentSrc?e.triggerSourceset(t.currentSrc):Un(e)||$n(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=n,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Jn=F(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Qn=function(e){function t(r,n){R(this,t);var i=L(this,e.call(this,r,n)),o=r.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||r.tag&&3===r.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),r.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var l=i.el_.childNodes,u=l.length,c=[];u--;){var h=l[u];"track"===h.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(h),i.remoteTextTracks().addTrack(h.track),i.textTracks().addTrack(h.track),a||i.el_.hasAttribute("crossorigin")||!Qt(h.src)||(a=!0)):c.push(h))}for(var d=0;d<c.length;d++)i.el_.removeChild(c[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&X.warn(s(Jn)),i.restoreMetadataTracksInIOSNativePlayer_(),(A||v||w)&&!0===r.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return N(t,e),t.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.setupSourcesetHandling_=function(){Xn(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,r=function(){t=[];for(var r=0;r<e.length;r++){var n=e[r];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};r(),e.addEventListener("change",r),this.on("dispose",(function(){return e.removeEventListener("change",r)}));var n=function r(){for(var n=0;n<t.length;n++){var i=t[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)}))},t.prototype.proxyNativeTracks_=function(){var e=this;or.names.forEach((function(t){var r=or[t],n=e.el()[r.getterName],i=e[r.getterName]();if(e["featuresNative"+r.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(o).forEach((function(t){var r=o[t];n.addEventListener(t,r),e.on("dispose",(function(e){return n.removeEventListener(t,r)}))})),e.on("loadstart",a),e.on("dispose",(function(t){return e.off("loadstart",a)}))}}))},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=a.createElement("video");var n=ft({},this.options_.tag&&de(this.options_.tag));A&&!0===this.options_.nativeControlsForTouch||delete n.controls,he(e,V(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&fe(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var s=i[o],l=this.options_[s];void 0!==l&&(l?fe(e,s,s):ve(e,s),e[s]=l)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,r=function(){t=!0};this.on("loadstart",r);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){X(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&g&&C&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",(function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)}))}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=o.navigator&&o.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){e.pause(),e.webkitEnterFullScreen()}),0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var r=a.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},t.prototype.addRemoteTextTrack=function(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),o.performance&&"function"==typeof o.performance.now?e.creationTime=o.performance.now():o.performance&&o.performance.timing&&"number"==typeof o.performance.timing.navigationStart&&(e.creationTime=o.Date.now()-o.performance.timing.navigationStart),e},t}(lr);if(ee()){Qn.TEST_VID=a.createElement("video");var Yn=a.createElement("track");Yn.kind="captions",Yn.srclang="en",Yn.label="English",Qn.TEST_VID.appendChild(Yn)}Qn.isSupported=function(){try{Qn.TEST_VID.volume=.5}catch(e){return!1}return!(!Qn.TEST_VID||!Qn.TEST_VID.canPlayType)},Qn.canPlayType=function(e){return Qn.TEST_VID.canPlayType(e)},Qn.canPlaySource=function(e,t){return Qn.canPlayType(e.type)},Qn.canControlVolume=function(){try{var e=Qn.TEST_VID.volume;return Qn.TEST_VID.volume=e/2+.1,e!==Qn.TEST_VID.volume}catch(e){return!1}},Qn.canMuteVolume=function(){try{var e=Qn.TEST_VID.muted;return Qn.TEST_VID.muted=!e,Qn.TEST_VID.muted?fe(Qn.TEST_VID,"muted","muted"):ve(Qn.TEST_VID,"muted"),e!==Qn.TEST_VID.muted}catch(e){return!1}},Qn.canControlPlaybackRate=function(){if(g&&C&&E<58)return!1;try{var e=Qn.TEST_VID.playbackRate;return Qn.TEST_VID.playbackRate=e/2+.1,e!==Qn.TEST_VID.playbackRate}catch(e){return!1}},Qn.canOverrideAttributes=function(){if(x)return!1;try{var e=function(){};Object.defineProperty(a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Qn.supportsNativeTextTracks=function(){return O||m&&C},Qn.supportsNativeVideoTracks=function(){return!(!Qn.TEST_VID||!Qn.TEST_VID.videoTracks)},Qn.supportsNativeAudioTracks=function(){return!(!Qn.TEST_VID||!Qn.TEST_VID.audioTracks)},Qn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Qn.prototype.featuresVolumeControl=Qn.canControlVolume(),Qn.prototype.featuresMuteControl=Qn.canMuteVolume(),Qn.prototype.featuresPlaybackRate=Qn.canControlPlaybackRate(),Qn.prototype.featuresSourceset=Qn.canOverrideAttributes(),Qn.prototype.movingMediaElementInDOM=!m,Qn.prototype.featuresFullscreenResize=!0,Qn.prototype.featuresProgressEvents=!0,Qn.prototype.featuresTimeupdateEvents=!0,Qn.prototype.featuresNativeTextTracks=Qn.supportsNativeTextTracks(),Qn.prototype.featuresNativeVideoTracks=Qn.supportsNativeVideoTracks(),Qn.prototype.featuresNativeAudioTracks=Qn.supportsNativeAudioTracks();var Zn=Qn.TEST_VID&&Qn.TEST_VID.constructor.prototype.canPlayType,ei=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ti=/^video\/mp4/i;Qn.patchCanPlayType=function(){b>=4&&!k&&!C?Qn.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&ei.test(e)?"maybe":Zn.call(this,e)}:T&&(Qn.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&ti.test(e)?"maybe":Zn.call(this,e)})},Qn.unpatchCanPlayType=function(){var e=Qn.TEST_VID.constructor.prototype.canPlayType;return Qn.TEST_VID.constructor.prototype.canPlayType=Zn,e},Qn.patchCanPlayType(),Qn.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Qn.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Qn.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Qn.prototype["set"+pt(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(e){Qn.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(e){Qn.prototype["set"+pt(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Qn.prototype[e]=function(){return this.el_[e]()}})),lr.withSourceHandlers(Qn),Qn.nativeSourceHandler={},Qn.nativeSourceHandler.canPlayType=function(e){try{return Qn.TEST_VID.canPlayType(e)}catch(e){return""}},Qn.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Qn.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=Jt(e.src);return Qn.nativeSourceHandler.canPlayType("video/"+r)}return""},Qn.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},Qn.nativeSourceHandler.dispose=function(){},Qn.registerSourceHandler(Qn.nativeSourceHandler),lr.registerTech("Html5",Qn);var ri=F(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),ni=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],ii={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},oi=function(e){function t(r,n,i){if(R(this,t),r.id=r.id||n.id||"vjs_video_"+Ae(),(n=V(t.getTagSettings(r),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var o=r.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var a=r;a&&1===a.nodeType;){if(de(a).hasOwnProperty("lang")){n.language=a.getAttribute("lang");break}a=a.parentNode}var s=L(this,e.call(this,null,n,i));if(s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=r,s.tagAttributes=r&&de(r),s.language(s.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach((function(e){l[e.toLowerCase()]=n.languages[e]})),s.languages_=l}else s.languages_=t.prototype.options_.languages;s.cache_={},s.poster_=n.poster||"",s.controls_=!!n.controls,s.cache_.lastVolume=1,r.controls=!1,r.removeAttribute("controls"),r.hasAttribute("autoplay")?s.options_.autoplay=!0:s.autoplay(s.options_.autoplay),s.scrubbing_=!1,s.el_=s.createEl(),s.cache_.lastPlaybackRate=s.defaultPlaybackRate(),ct(s,{eventBusKey:"el_"});var u=ft(s.options_);if(n.plugins){var c=n.plugins;Object.keys(c).forEach((function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](c[e])}),s)}s.options_.playerOptions=u,s.middleware_=[],s.initChildren(),s.isAudio("audio"===r.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),m||s.addClass("vjs-workinghover"),t.players[s.id_]=s;var h="6.12.1".split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("fullscreenchange",s.handleFullscreenChange_),s.on("stageclick",s.handleStageClick_),s.changingSrc_=!1,s.playWaitingForReady_=!1,s.playOnLoadstart_=null,s}return N(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),cr[this.id()]=null,e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,r=void 0,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();n?r=this.el_=t.parentNode:i||(r=this.el_=e.prototype.createEl.call(this,"div"));var s=de(t);if(i){for(r=this.el_=t,t=this.tag=a.createElement("video");r.children.length;)t.appendChild(r.firstChild);se(r,"video-js")||le(r,"video-js"),r.appendChild(t),n=this.playerElIngest_=r,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(e){void 0!==r[e]&&(t[e]=r[e])}))}if(t.setAttribute("tabindex","-1"),j&&t.setAttribute("role","application"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(s).forEach((function(e){"class"===e?(r.className+=" "+s[e],i&&(t.className+=" "+s[e])):(r.setAttribute(e,s[e]),i&&t.setAttribute(e,s[e]))})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=r.player=this,this.addClass("vjs-paused"),!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Qe("vjs-styles-dimensions");var l=xe(".vjs-styles-defaults"),u=xe("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=t.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);le(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(r,t),ae(t,r),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=r,r},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var r=e+"_";if(void 0===t)return this[r]||0;if(""===t)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?X.error('Improper value "'+t+'" supplied for for '+e):(this[r]=n,this.updateStyleEl_())},t.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==o.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,r=void 0,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),Ye(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),s>=0&&(l.height=s))}},t.prototype.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_();var n=pt(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(lr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};sr.names.forEach((function(e){var t=sr[e];o[t.getterName]=r[t.privateName]})),V(o,this.options_[n]),V(o,this.options_[i]),V(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=lr.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(Ze(this,this.handleTechReady_),!0),Mt(this.textTracksJson_||[],this.tech_),ni.forEach((function(e){r.on(r.tech_,e,r["handleTech"+pt(e)+"_"])})),Object.keys(ii).forEach((function(e){r.on(r.tech_,e,(function(t){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+ii[e]+"_"].bind(r),event:t}):r["handleTech"+ii[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||ae(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;sr.names.forEach((function(t){var r=sr[t];e[r.privateName]=e[r.getterName]()})),this.textTracksJson_=At(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.prototype.tech=function(e){return void 0===e&&X.warn(s(ri)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){X("deleting tag.poster throws in some browsers",e)}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},t.prototype.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var r=function(){var e=t.muted();t.muted(!0);var r=t.play();if(r&&r.then&&r.catch)return r.catch((function(r){t.muted(e)}))},n=void 0;if("any"===e?(n=this.play())&&n.then&&n.catch&&n.catch((function(){return r()})):n="muted"===e?r():this.play(),n&&n.then&&n.catch)return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(r){t.trigger({type:"autoplay-failure",autoplay:e})}))}},t.prototype.updateSourceCaches_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,r="";if("string"!=typeof t&&(t=e.src,r=e.type),!/^blob:/.test(t)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!r&&(r=wr(this,t)),this.cache_.source=ft({},e,{src:t,type:r});for(var n=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=de(o[s]);i.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},t.prototype.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_&&(this.updateSourceCaches_(e.src),!e.src)){this.tech_.one(["sourceset","loadstart"],(function e(r){"sourceset"!==r.type&&t.updateSourceCaches_(t.techGet_("currentSrc")),t.tech_.off(["sourceset","loadstart"],e)}))}this.trigger({src:e.src,type:"sourceset"})},t.prototype.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return e.removeClass("vjs-waiting")}))},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(X.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){Ee(e)&&this.controls_&&(this.paused()?Pt(this.play()):this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready((function(){if(e in vr)return function(e,t,r,n){return t[r](e.reduce(mr(r),n))}(this.middleware_,this.tech_,e,t);if(e in yr)return pr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw X(e),e}}),!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in fr)return function(e,t,r){return e.reduceRight(mr(r),t[r]())}(this.middleware_,this.tech_,e);if(e in yr)return pr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw X("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw X("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw X(t),t}}},t.prototype.play=function(){var e=this,t=this.options_.Promise||o.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},t.prototype.play_=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready((function(){e.playWaitingForReady_=!1,t(e.play())}))}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||_t(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=_t(0,0)),e},t.prototype.bufferedPercent=function(){return gt(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){if(void 0===e)return!!this.isFullscreen_;this.isFullscreen_=!!e},t.prototype.requestFullscreen=function(){var e=bt;this.isFullscreen(!0),e.requestFullscreen?(Ve(a,e.fullscreenchange,Ze(this,(function t(r){this.isFullscreen(a[e.fullscreenElement]),!1===this.isFullscreen()&&We(a,e.fullscreenchange,t),this.trigger("fullscreenchange")}))),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=bt;this.isFullscreen(!1),e.requestFullscreen?a[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.documentElement.style.overflow,Ve(a,"keydown",Ze(this,this.fullWindowOnEscKey)),a.documentElement.style.overflow="hidden",le(a.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,We(a,"keydown",this.fullWindowOnEscKey),a.documentElement.style.overflow=this.docOrigOverflow,ue(a.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=lr.getTech(i);if(o||(o=vt.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else X.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t,r=this,n=this.options_.techOrder.map((function(e){return[e,lr.getTech(e)]})).filter((function(e){var t=e[0],r=e[1];return r?r.isSupported():(X.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),i=function(e,t,r){var n=void 0;return e.some((function(e){return t.some((function(t){if(n=r(e,t))return!0}))})),n},o=function(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?i(e,n,(t=o,function(e,r){return t(r,e)})):i(n,e,o))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var r=function e(t){if(Array.isArray(t)){var r=[];t.forEach((function(t){t=e(t),Array.isArray(t)?r=r.concat(t):W(t)&&r.push(t)})),t=r}else t="string"==typeof t&&t.trim()?[kr({src:t})]:W(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[kr(t)]:[];return t}(e);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),dr(this,r[0],(function(e,n){var i,o;if(t.middleware_=n,t.cache_.sources=r,t.updateSourceCaches_(e),t.src_(e))return r.length>1?t.src(r.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());i=n,o=t.tech_,i.forEach((function(e){return e.setTech&&e.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},t.prototype.src_=function(e){var t,r,n=this,i=this.selectSource([e]);return!i||(t=i.tech,r=this.techName_,pt(t)!==pt(r)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.prototype.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.prototype.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Et(e),this.addClass("vjs-error"),X.error("(CODE:"+this.error_.code+" "+Et.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,r=void 0,n=Ze(this,this.reportUserActivity);this.on("mousedown",(function(){n(),this.clearInterval(e),e=this.setInterval(n,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())})),this.on("mouseup",(function(t){n(),this.clearInterval(e)})),this.on("keydown",n),this.on("keyup",n);var i=void 0;this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},t.prototype.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},t.prototype.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,r=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return ft(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=ft(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=ft(n)).player=void 0,e.tracks[r]=n}return e},t.prototype.createModal=function(e,t){var r=this;(t=t||{}).content=e||"";var n=new Dt(this,t);return this.addChild(n),n.on("dispose",(function(){r.removeChild(n)})),n.open(),n},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=de(e),n=r["data-setup"];if(se(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=l(n||"{}"),o=i[0],a=i[1];o&&X.error(o),V(r,a)}if(V(t,r),e.hasChildNodes())for(var s=e.childNodes,u=0,c=s.length;u<c;u++){var h=s[u],d=h.nodeName.toLowerCase();"source"===d?t.sources.push(de(h)):"track"===d&&t.tracks.push(de(h))}return t},t.prototype.flexNotSupported_=function(){var e=a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(vt);sr.names.forEach((function(e){var t=sr[e];oi.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),oi.players={};var ai=o.navigator;oi.prototype.options_={techOrder:lr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:ai&&(ai.languages&&ai.languages[0]||ai.userLanguage||ai.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},x||oi.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(e){oi.prototype[e]=function(){return this.techGet_(e)}})),ni.forEach((function(e){oi.prototype["handleTech"+pt(e)+"_"]=function(){return this.trigger(e)}})),vt.registerComponent("Player",oi);var si={},li=function(e){return si.hasOwnProperty(e)},ui=function(e){return li(e)?si[e]:void 0},ci=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},hi=function(e,t,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},di=function(e,t){return t.prototype.name=e,function(){hi(this,{name:e,plugin:t,instance:null},!0);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(n))));return this[e]=function(){return o},hi(this,o.getEventHash()),o}},pi=function(){function e(t){if(R(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,ct(this),delete this.trigger,dt(this,this.constructor.defaultState),ci(t,this.name),this.dispose=Ze(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ue(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=di(e,si[e])},e.isBasic=function(t){var r="string"==typeof t?ui(t):t;return"function"==typeof r&&!e.prototype.isPrototypeOf(r.prototype)},e.registerPlugin=function(t,r){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":I(t))+".");if(li(t))X.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(oi.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof r)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===r?"undefined":I(r))+".");return si[t]=r,"plugin"!==t&&(e.isBasic(r)?oi.prototype[t]=function(e,t){var r=function(){hi(this,{name:e,plugin:t,instance:null},!0);var r=t.apply(this,arguments);return ci(this,e),hi(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach((function(e){r[e]=t[e]})),r}(t,r):oi.prototype[t]=di(t,r)),r},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");li(e)&&(delete si[e],delete oi.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(si),t=void 0;return e.forEach((function(e){var r=ui(e);r&&((t=t||{})[e]=r)})),t},e.getPluginVersion=function(e){var t=ui(e);return t&&t.VERSION||""},e}();pi.getPlugin=ui,pi.BASE_PLUGIN_NAME="plugin",pi.registerPlugin("plugin",pi),oi.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},oi.prototype.hasPlugin=function(e){return!!li(e)};var fi=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":I(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)};"undefined"==typeof HTMLVideoElement&&ee()&&(a.createElement("video"),a.createElement("audio"),a.createElement("track"),a.createElement("video-js"));var vi=function(e){return 0===e.indexOf("#")?e.slice(1):e};function yi(e,t,r){var n=yi.getPlayer(e);if(n)return t&&X.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var i="string"==typeof e?xe("#"+vi(e)):e;if(!te(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.body.contains(i)||X.warn("The element supplied is not included in the DOM"),t=t||{},yi.hooks("beforesetup").forEach((function(e){var r=e(i,ft(t));W(r)&&!Array.isArray(r)?t=ft(t,r):X.error("please return an object in beforesetup hooks")}));var o=vt.getComponent("Player");return n=new o(i,t,r),yi.hooks("setup").forEach((function(e){return e(n)})),n}if(yi.hooks_={},yi.hooks=function(e,t){return yi.hooks_[e]=yi.hooks_[e]||[],t&&(yi.hooks_[e]=yi.hooks_[e].concat(t)),yi.hooks_[e]},yi.hook=function(e,t){yi.hooks(e,t)},yi.hookOnce=function(e,t){yi.hooks(e,[].concat(t).map((function(t){return function r(){return yi.removeHook(e,r),t.apply(void 0,arguments)}})))},yi.removeHook=function(e,t){var r=yi.hooks(e).indexOf(t);return!(r<=-1)&&(yi.hooks_[e]=yi.hooks_[e].slice(),yi.hooks_[e].splice(r,1),!0)},!0!==o.VIDEOJS_NO_DYNAMIC_STYLE&&ee()){var mi=xe(".vjs-styles-defaults");if(!mi){mi=Qe("vjs-styles-defaults");var _i=xe("head");_i&&_i.insertBefore(mi,_i.firstChild),Ye(mi,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Je(1,yi),yi.VERSION="6.12.1",yi.options=oi.prototype.options_,yi.getPlayers=function(){return oi.players},yi.getPlayer=function(e){var t=oi.players,r=void 0;if("string"==typeof e){var n=vi(e),i=t[n];if(i)return i;r=xe("#"+n)}else r=e;if(te(r)){var o=r,a=o.player,s=o.playerId;if(a||t[s])return a||t[s]}},yi.getAllPlayers=function(){return Object.keys(oi.players).map((function(e){return oi.players[e]})).filter(Boolean)},yi.players=oi.players,yi.getComponent=vt.getComponent,yi.registerComponent=function(e,t){lr.isTech(t)&&X.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),vt.registerComponent.call(vt,e,t)},yi.getTech=lr.getTech,yi.registerTech=lr.registerTech,yi.use=function(e,t){ur[e]=ur[e]||[],ur[e].push(t)},!x&&Object.defineProperty?(Object.defineProperty(yi,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(yi.middleware,"TERMINATOR",{value:hr,writeable:!1,enumerable:!0})):yi.middleware={TERMINATOR:hr},yi.browser=D,yi.TOUCH_ENABLED=A,yi.extend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){e.apply(this,arguments)},n={};for(var i in"object"===(void 0===t?"undefined":I(t))?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),fi(r,e),n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r},yi.mergeOptions=ft,yi.bind=Ze,yi.registerPlugin=pi.registerPlugin,yi.deregisterPlugin=pi.deregisterPlugin,yi.plugin=function(e,t){return X.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),pi.registerPlugin(e,t)},yi.getPlugins=pi.getPlugins,yi.getPlugin=pi.getPlugin,yi.getPluginVersion=pi.getPluginVersion,yi.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),yi.options.languages=ft(yi.options.languages,((r={})[e]=t,r)),yi.options.languages[e]},yi.log=X,yi.createTimeRange=yi.createTimeRanges=_t,yi.formatTime=Fr,yi.setFormatTime=function(e){Lr=e},yi.resetFormatTime=function(){Lr=Nr},yi.parseUrl=Kt,yi.isCrossOrigin=Qt,yi.EventTarget=tt,yi.on=Ve,yi.one=ze,yi.off=We,yi.trigger=Ue,yi.xhr=u,yi.TextTrack=tr,yi.AudioTrack=rr,yi.VideoTrack=nr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){yi[e]=function(){return X.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Pe[e].apply(null,arguments)}})),yi.computedStyle=J,yi.dom=Pe,yi.url=Yt,e.exports=yi},"./node_modules/videojs-flash/dist/videojs-flash.es.js":function(e,t,r){"use strict";var n=r("./node_modules/video.js/dist/video.cjs.js"),i=r.n(n),o=r("./node_modules/videojs-swf/package.json"),a=r("./node_modules/global/window.js"),s=r.n(a);var l=i.a.getComponent("Tech"),u=i.a.dom,c=i.a.url,h=i.a.createTimeRange,d=i.a.mergeOptions,p=s.a&&s.a.navigator||{},f=function(e){function t(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r,n));return r.source&&i.ready((function(){this.setSource(r.source)}),!0),r.startTime&&i.ready((function(){this.load(),this.play(),this.currentTime(r.startTime)}),!0),s.a.videojs=s.a.videojs||{},s.a.videojs.Flash=s.a.videojs.Flash||{},s.a.videojs.Flash.onReady=t.onReady,s.a.videojs.Flash.onEvent=t.onEvent,s.a.videojs.Flash.onError=t.onError,i.on("seeked",(function(){this.lastSeekTarget_=void 0})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="https://vjs.zencdn.net/swf/"+o.a+"/video-js.swf");var r=e.techId,n=d({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=d({wmode:"opaque",bgcolor:"#000000"},e.params),a=d({id:r,name:r,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,n,i,a),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=c.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout((function(){return t.play()}),0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var r=this.seekable();r.length&&(t=(t=t>r.start(0)?t:r.start(0))<r.end(r.length-1)?t:r.end(r.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?h():h(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?h():h(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return s.a.performance&&"function"==typeof s.a.performance.now?e.creationTime=s.a.performance.now():s.a.performance&&s.a.performance.timing&&"number"==typeof s.a.performance.timing.navigationStart&&(e.creationTime=s.a.Date.now()-s.a.performance.timing.navigationStart),e},t}(l),v=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"],y=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],m=f.prototype;function _(e){var t=e.charAt(0).toUpperCase()+e.slice(1);m["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function g(e){m[e]=function(){return this.el_.vjs_getProperty(e)}}for(var b=0;b<v.length;b++)g(v[b]),_(v[b]);for(var T=0;T<y.length;T++)g(y[T]);f.isSupported=function(){return!!(i.a.browser.IS_CHROME&&!i.a.browser.IS_ANDROID||i.a.browser.IS_SAFARI&&!i.a.browser.IS_IOS||i.a.browser.IS_EDGE)||f.version()[0]>=10},l.withSourceHandlers(f),f.nativeSourceHandler={},f.nativeSourceHandler.canPlayType=function(e){return e in f.formats?"maybe":""},f.nativeSourceHandler.canHandleSource=function(e,t){var r,n,i=void 0;return e.type?i=e.type.replace(/;.*/,"").toLowerCase():(r=e.src,i=(n=c.getFileExtension(r))?"video/"+n:""),f.nativeSourceHandler.canPlayType(i)},f.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},f.nativeSourceHandler.dispose=function(){},f.registerSourceHandler(f.nativeSourceHandler),f.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},f.onReady=function(e){var t=u.$("#"+e),r=t&&t.tech;r&&r.el()&&f.checkReady(r)},f.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout((function(){f.checkReady(e)}),50))},f.onEvent=function(e,t){var r=u.$("#"+e).tech,n=Array.prototype.slice.call(arguments,2);r.setTimeout((function(){r.trigger(t,n)}),1)},f.onError=function(e,t){var r=u.$("#"+e).tech;if("srcnotfound"===t)return r.error(4);"string"==typeof t?r.error("FLASH: "+t):(t.origin="flash",r.error(t))},f.version=function(){var e="0,0,0";try{e=new s.a.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{p.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(p.plugins["Shockwave Flash 2.0"]||p.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},f.embed=function(e,t,r,n){var i=f.getEmbedCode(e,t,r,n);return u.createEl("div",{innerHTML:i}).childNodes[0]},f.getEmbedCode=function(e,t,r,n){var i="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach((function(e){i+=e+"="+t[e]+"&amp;"})),r=d({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},r),Object.getOwnPropertyNames(r).forEach((function(e){o+='<param name="'+e+'" value="'+r[e]+'" />'})),n=d({data:e,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach((function(e){a+=e+'="'+n[e]+'" '})),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},function(e){e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var r=e.search(/&(?![\w-]+=)/),n=void 0;return-1!==r?n=r+1:0===(r=n=e.lastIndexOf("/")+1)&&(r=n=e.length),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);return n||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,r,n){var i=e.streamToParts(t.src);r.setRtmpConnection(i.connection),r.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler)}(f),l.getTech("Flash")?(i.a.log.warn("Not using videojs-flash as it appears to already be registered"),i.a.log.warn("videojs-flash should only be used with video.js@6 and above")):i.a.registerTech("Flash",f),f.VERSION="2.2.0"},"./node_modules/videojs-mux/dist/videojs-mux.js":function(e,t,r){var n,i=i||{};i.js=r("./node_modules/video.js/dist/video.cjs.js"),e.exports=(n=r("./node_modules/video.js/dist/video.cjs.js"),function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){var r=k(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&l(e)}(e)&&m.call(e,"callee")&&(!g.call(e,"callee")||_.call(e)==d)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!m.call(e,a)||i&&("length"==a||o(a,n))||r.push(a);return r}function i(e,t,r){var n=e[t];m.call(e,t)&&s(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function o(e,t){return!!(t=null==t?h:t)&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}function a(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||y)}function s(e,t){return e===t||e!=e&&t!=t}function l(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}(e.length)&&!function(e){var t=u(e)?_.call(e):"";return t==p||t==f}(e)}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return l(e)?n(e):function(e){if(!a(e))return b(e);var t=[];for(var r in Object(e))m.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var h=9007199254740991,d="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",v=/^(?:0|[1-9]\d*)$/,y=Object.prototype,m=y.hasOwnProperty,_=y.toString,g=y.propertyIsEnumerable,b=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),T=Math.max,w=!g.call({valueOf:1},"valueOf"),k=Array.isArray,S=function(e){return function(e,t){return t=T(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=T(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=a,r(e,this,s)}}((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,c&&function(e,t,r){if(!u(r))return!1;var n=typeof t;return!!("number"==n?l(r)&&o(t,r.length):"string"==n&&t in r)&&s(r[t],e)}(r[0],r[1],c)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var h=r[n];h&&e(t,h)}return t}))}((function(e,t){if(w||a(t)||l(t))!function(e,t,r,n){r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;i(r,s,void 0===l?e[s]:l)}}(t,c(t),e);else for(var r in t)m.call(t,r)&&i(e,r,t[r])}));e.exports=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(18)),i=n.default.methodFactory;n.default.methodFactory=function(e,t,r){var n=i(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},n.default.setLevel(n.default.getLevel()),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if("string"!=typeof e||""===e)return["localhost"];var t=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4],r=void 0;return t&&(r=(t.match(/[^\.]+\.[^\.]+$/)||[])[0]),[t,r]};t.extractHostnameAndDomain=n,t.extractHostname=function(e){return n(e)[0]},t.extractDomain=function(e){return n(e)[1]}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.generateShortID=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=(e=e||"").match(/[^\r\n]+/g)||[];for(var t={},r=0;r<e.length;r++){var n=e[r].split(/\s*:\s*(.+)/);3===n.length&&(t[n[0]]=n[1])}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var n=r(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,n.generateShortID)()),e.muxId):e};t.getMuxPlayerId=i,t.findMediaElement=function(e){var t=void 0;return e&&void 0!==e.nodeName?e=i(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"1"===(n.default.doNotTrack||n.default.navigator.doNotTrack||n.default.navigator.msDoNotTrack)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2))},function(e,t,r){(function(t){var n,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=r(21);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n}).call(t,r(5))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(40),i=r(41),o=r(14);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,o){n.call(e,o)?e[o]&&"object"==typeof e[o]?e[o]=t.merge(e[o],r,i):e.push(r):e[o]=r})),e):Object.keys(r).reduce((function(e,o){var a=r[o];return n.call(e,o)?e[o]=t.merge(e[o],a,i):e[o]=a,e}),o)},t.assign=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var o=t.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(n):o<128?r+=i[o]:o<2048?r+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?r+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),r+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},r={};return Object.keys(e).forEach((function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=n.split("_"),u=a[0],c=s[u];c||(o.default.info("Data key word `"+a[0]+"` not expected in "+n),c=u+"_"),a.splice(1).forEach((function(e){"url"===e&&(i=!0),l[e]?c+=l[e]:(o.default.info("Data key word `"+e+"` not expected in "+n),c+="_"+e+"_")})),i?r[c]=e[n]:t[c]=e[n]}})),(0,a.default)(t,r)};var o=n(r(3)),a=n(r(0)),s=i({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),l=i({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",ch:"changed",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,r){"use strict";e.exports=r(17).default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(r(2)),a=r(8),s=n(r(3)),l=n(r(9)),u=n(r(19)),c=n(r(48)),h=n(r(49)),d={},p=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?o.default.setTimeout((function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)}),0):s.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?o.default.setTimeout((function(){t(e)}),0):s.default.warn("`"+t+"` is invalid.")};p.loaded=Date.now(),p.VERSION="2.8.0",p.API_VERSION="2.1",p.PLAYER_TRACKED=!1,p.monitor=function(e,t){return(0,c.default)(p,e,t)},p.destroyMonitor=function(e){var t=(0,a.findMediaElement)(e),r=i(t,1)[0];r&&r.mux&&"function"==typeof r.mux.destroy?r.mux.destroy():s.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},p.addHLSJS=function(e,t){var r=(0,a.getMuxPlayerId)(e);d[r]?d[r].addHLSJS(t):s.default.error("A monitor for `"+r+"` has not been initialized.")},p.addDashJS=function(e,t){var r=(0,a.getMuxPlayerId)(e);d[r]?d[r].addDashJS(t):s.default.error("A monitor for `"+r+"` has not been initialized.")},p.removeHLSJS=function(e){var t=(0,a.getMuxPlayerId)(e);d[t]?d[t].removeHLSJS():s.default.error("A monitor for `"+t+"` has not been initialized.")},p.removeDashJS=function(e,t){var r=(0,a.getMuxPlayerId)(e);d[r]?d[r].removeDashJS(t):s.default.error("A monitor for `"+r+"` has not been initialized.")},p.init=function(e,t){var r=(0,a.getMuxPlayerId)(e);d[r]=new u.default(p,r,t)},p.emit=function(e,t,r){var n=(0,a.getMuxPlayerId)(e);d[n]?(d[n].emit(t,r),"destroy"===t&&delete d[n]):s.default.error("A monitor for `"+n+"` has not been initialized.")},(0,l.default)()&&s.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),o.default.addEventListener("unload",(function(){p.WINDOW_UNLOADING=!0}),!1),p.checkDoNotTrack=l.default,p.log=s.default,p.utils=h.default,t.default=p},function(e,t,r){var n,i;!function(o,a){"use strict";void 0!==(i="function"==typeof(n=function(){function e(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==s&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a)}function r(e,t){for(var r=0;r<l.length;r++){var n=l[r];this[n]=r<e?a:this.methodFactory(n,e,t)}this.log=this.debug}function n(e,t,n){return function(){typeof console!==s&&(r.call(this,t,n),this[e].apply(this,arguments))}}function i(e,r,i){return t(e)||n.apply(this,arguments)}function o(e,t,n){function o(){var e;if(typeof window!==s){try{e=window.localStorage[c]}catch(e){}if(typeof e===s)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(c)+"=");r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}var a,u=this,c="loglevel";e&&(c+=":"+e),u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||i,u.getLevel=function(){return a},u.setLevel=function(t,n){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==n&&function(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==s){try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}}(t),r.call(u,t,e),typeof console===s&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){o()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var h=o();null==h&&(h=null==t?"WARN":t),u.setLevel(h,!1)}var a=function(){},s="undefined",l=["trace","debug","info","warn","error"],u=new o,c={};u.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=c[e];return t||(t=c[e]=new o(e,u.getLevel(),u.methodFactory)),t};var h=typeof window!==s?window.log:void 0;return u.noConflict=function(){return typeof window!==s&&window.log===u&&(window.log=h),u},u})?n.call(t,r,t,e):n)&&(e.exports=i)}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(r(3)),a=n(r(0)),s=r(6),l=r(4),u=n(r(2)),c=n(r(1)),h=n(r(20)),d=r(23),p=r(24),f=n(r(25)),v=n(r(26)),y=n(r(27)),m=n(r(28)),_=n(r(29)),g=n(r(30)),b=n(r(31)),T=n(r(32)),w=n(r(33)),k=n(r(34)),S=n(r(35)),C=n(r(36)),E=n(r(37)),x=n(r(38)),j=n(r(47)),P=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],O=function(e,t,r){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=u.default.performance&&u.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=u.default.performance&&u.default.performance.timing.navigationStart,this.mux=e,this.id=t,(r=(0,a.default)({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!0,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),o.default.setLevel(r.debug?"debug":"warn"),this.getPlayheadTime=r.getPlayheadTime,this.getStateData=r.getStateData||function(){},this.getAdData=r.getAdData||function(){},this.minimumRebufferDuration=r.minimumRebufferDuration,this.sustainedRebufferThreshold=r.sustainedRebufferThreshold,this.playbackHeartbeatTime=r.playbackHeartbeatTime,this.errorTranslator=r.errorTranslator,this.playbackEventDispatcher=new x.default(e,r.data.env_key,r),this.data={player_instance_id:(0,s.generateUUID)(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,a.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)};var i=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.on("viewinit",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,a.default)(this.data,t),this._initializeViewData(),this.one("play",i),this.one("adbreakstart",i)}));var l=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(this);this.on("videochange",(function(e,t){l(t)})),this.on("programchange",(function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),l((0,a.default)(t,{view_program_changed:!0})),i()})),this.on("destroy",this.destroy);var c=this.destroy.bind(this);u.default.addEventListener("unload",c,!1),this.on("destroy",(function(){u.default.removeEventListener("unload",c)})),this.on("playerready",(function(e,t){(0,a.default)(this.data,t)})),P.forEach((function(e){n.on(e,(function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),(0,a.default)(this.data,r),this._sanitizeData()})),n.on("after"+e,(function(){("error"!==e||this.viewErrored)&&this.send(e)}))})),this.on("viewend",(function(e,t){(0,a.default)(n.data,t)})),this.one("playerready",(function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time})),y.default.apply(this),E.default.apply(this),k.default.apply(this),g.default.apply(this),v.default.apply(this),w.default.apply(this),m.default.apply(this),_.default.apply(this),S.default.apply(this),b.default.apply(this),T.default.apply(this),C.default.apply(this),j.default.apply(this),r.hlsjs&&this.addHLSJS(r),r.dashjs&&this.addDashJS(r),this.emit("viewinit",r.data)};(0,a.default)(O.prototype,f.default.prototype),(0,a.default)(O.prototype,g.default.prototype),(0,a.default)(O.prototype,k.default.prototype),(0,a.default)(O.prototype,v.default.prototype),(0,a.default)(O.prototype,m.default.prototype),(0,a.default)(O.prototype,_.default.prototype),(0,a.default)(O.prototype,S.default.prototype),(0,a.default)(O.prototype,b.default.prototype),(0,a.default)(O.prototype,T.default.prototype),O.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),u.default.clearTimeout(this._heartBeatTimeout))},O.prototype.send=function(e){var t=(0,a.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,l.extractHostnameAndDomain)(t.video_source_url),n=i(r,2),o=n[0],s=n[1];t.video_source_domain=s,t.video_source_hostname=o}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},O.prototype._updateStateData=function(){(0,a.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},O.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach((function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r}))},O.prototype._resetVideoData=function(e,t){var r=this;Object.keys(this.data).forEach((function(e){0===e.indexOf("video_")&&delete r.data[e]}))},O.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("view_")&&delete e.data[t]})),this.data.view_sequence_number=1},O.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},O.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,s.generateUUID)();this.data.video_id||(this.data.video_id=(0,h.default)(this.data.player_source_url));var r=function(){t===e.data.view_id&&(0,c.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()},O.prototype._restartHeartBeat=function(){var e=this;u.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=u.default.setTimeout((function(){e.data.player_is_paused||e.emit("hb")}),1e4))},O.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,d.monitorHlsJs)(this.mux,this.id,e.hlsjs,{},e.Hls||u.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},O.prototype.removeHLSJS=function(){this.hlsjs&&((0,d.stopMonitoringHlsJs)(this.hlsjs),this.hlsjs=void 0)},O.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,p.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},O.prototype.removeDashJS=function(){this.dashjs&&((0,p.stopMonitoringDashJS)(this.dashjs),this.dashjs=void 0)},t.default=O},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.default.createElement("a");t.href=e;var r=t.pathname.replace(/\.[^\/.]+$/,"");return o.default.encode(t.host+r).split("=")[0]};var i=n(r(10)),o=n(r(22))},function(e,t){},function(e,t,r){(function(e,n){var i;!function(n){var o=("object"==typeof e&&e&&e.exports,function(e){this.message=e});o.prototype=new Error,o.prototype.name="InvalidCharacterError";var a=function(e){throw new o(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,u={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,i,o=e.length%3,l="",u=-1,c=e.length-o;++u<c;)t=e.charCodeAt(u)<<16,r=e.charCodeAt(++u)<<8,n=e.charCodeAt(++u),l+=s.charAt((i=t+r+n)>>18&63)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+s.charAt(63&i);return 2==o?(t=e.charCodeAt(u)<<8,r=e.charCodeAt(++u),l+=s.charAt((i=t+r)>>10)+s.charAt(i>>4&63)+s.charAt(i<<2&63)+"="):1==o&&(i=e.charCodeAt(u),l+=s.charAt(i>>2)+s.charAt(i<<4&63)+"=="),l},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,o="",u=-1;++u<t;)n=s.indexOf(e.charAt(u)),r=i%4?64*r+n:n,i++%4&&(o+=String.fromCharCode(255&r>>(-2*i&6)));return o},version:"0.1.0"};void 0!==(i=function(){return u}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHlsJs=t.monitorHlsJs=void 0;var i=n(r(2)),o=n(r(7)),a=r(4),s=function(e){if(!e)return{};var t=i.default.performance.timing.navigationStart;return{bytesLoaded:e.total,requestStart:Math.round(t+e.trequest),responseStart:Math.round(t+e.tfirst),responseEnd:Math.round(t+e.tload)}},l=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return(0,o.default)(e.getAllResponseHeaders())};t.monitorHlsJs=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),o=e.log;if(i.default.performance&&i.default.performance.timing){var u=function(r,n){return e.emit(t,r,n)},c=function(e,t){var r=t.levels,n=t.audioTracks,i=t.url,o=t.stats,c=t.networkDetails,h={},d={};r.forEach((function(e,t){h[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),n.forEach((function(e,t){d[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var p=s(o),f=p.bytesLoaded,v=p.requestStart,y=p.responseStart,m=p.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:f,request_start:v,request_response_start:y,request_response_end:m,request_type:"manifest",request_hostname:(0,a.extractHostname)(i),request_response_headers:l(c),request_rendition_lists:{media:h,audio:d,video:{}}})};r.on(n.Events.MANIFEST_LOADED,c);var h=function(e,t){var r=t.details,n=t.level,i=t.networkDetails,o=t.stats,c=s(o),h=c.bytesLoaded,d=c.requestStart,p=c.responseStart,f=c.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:h,request_start:d,request_response_start:p,request_response_end:f,request_current_level:n,request_type:"manifest",request_hostname:(0,a.extractHostname)(r.url),request_response_headers:l(i)})};r.on(n.Events.LEVEL_LOADED,h);var d=function(e,t){var r=t.details,n=t.networkDetails,i=t.stats,o=s(i),c=o.bytesLoaded,h=o.requestStart,d=o.responseStart,p=o.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:c,request_start:h,request_response_start:d,request_response_end:p,request_type:"manifest",request_hostname:(0,a.extractHostname)(r.url),request_response_headers:l(n)})};r.on(n.Events.AUDIO_TRACK_LOADED,d);var p=function(e,t){var n=t.stats,i=t.networkDetails,o=t.frag,c=s(n),h={request_event_type:e,request_bytes_loaded:c.bytesLoaded,request_start:c.requestStart,request_response_start:c.responseStart,request_response_end:c.responseEnd,request_hostname:i?(0,a.extractHostname)(i.responseURL):void 0,request_response_headers:l(i),request_media_duration:o.duration};"main"===o.type?(h.request_type="media",h.request_current_level=o.level,h.request_video_width=(r.levels[o.level]||{}).width,h.request_video_height=(r.levels[o.level]||{}).height):h.request_type=o.type,u("requestcompleted",h)};r.on(n.Events.FRAG_LOADED,p);var f=function(e,t){var r=t.details,i=t.response,o=t.context,s=t.frag;if(r===n.ErrorDetails.MANIFEST_LOAD_ERROR||r===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r===n.ErrorDetails.FRAG_LOAD_ERROR||r===n.ErrorDetails.FRAG_LOAD_TIMEOUT||r===n.ErrorDetails.LEVEL_LOAD_ERROR||r===n.ErrorDetails.LEVEL_LOAD_TIMEOUT){var l=s&&s.url||o&&o.url||"";u("requestfailed",{request_error:r,request_url:l,request_hostname:(0,a.extractHostname)(l),request_type:r===n.ErrorDetails.FRAG_LOAD_ERROR||r===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":"manifest",request_error_code:i&&i.code,request_error_text:i&&i.text})}};r.on(n.Events.ERROR,f);var v=function(e,t){var r=t.frag,n=r&&r._url||"";u("requestcanceled",{request_cancel:e,request_url:n,request_type:"media",request_hostname:(0,a.extractHostname)(n)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,v),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,c),r.off(n.Events.LEVEL_LOADED,h),r.off(n.Events.AUDIO_TRACK_LOADED,d),r.off(n.Events.FRAG_LOADED,p),r.off(n.Events.ERROR,f),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,v),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)}else o.warn("window.performance.timing not supported. Not tracking HLS.js.")},t.stopMonitoringHlsJs=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var i=n(r(2)),o=n(r(7)),a=r(4),s=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var r=e.getRequests({state:"executed"});if(0===r.length)return{};var n=r[r.length-1],i=(0,a.extractHostname)(n.url),s=n.bytesLoaded,l=new Date(n.requestStartDate).getTime(),u=new Date(n.firstByteDate).getTime(),c=new Date(n.requestEndDate).getTime(),h=isNaN(n.duration)?0:n.duration,d=t.getMetricsFor(n.mediaType).HttpList,p=void 0;return d.length>0&&(p=(0,o.default)(d[d.length-1]._responseHeaders||"")),{requestStart:l,requestResponseStart:u,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:p,requestMediaDuration:h,requestHostname:i}},l=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}};t.monitorDashJS=function(e,t,r){var n=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.log);if(r&&r.on){var o=function(r,n){return e.emit(t,r,n)},u=function(e){var t=e.type,r=(e.data||{}).url;o("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:(0,a.extractHostname)(r)})};r.on("manifestLoaded",u);var c={},h=function(e){var t=e.type,n=e.fragmentModel,i=(e.chunk||{}).mediaInfo||{},a=i.type,l=i.bitrateList,u={};(l=l||[]).forEach((function(e,t){u[t]={},u[t].width=e.width,u[t].height=e.height,u[t].bitrate=e.bandwidth,u[t].attrs={}})),"video"===a?c.video=u:"audio"===a?c.audio=u:c.media=u;var h=s(n,r),d=h.requestStart,p=h.requestResponseStart,f=h.requestResponseEnd,v=h.requestResponseHeaders,y=h.requestMediaDuration,m=h.requestHostname;o("requestcompleted",{request_event_type:t,request_start:d,request_response_start:p,request_response_end:f,request_bytes_loaded:-1,request_type:a+"_init",request_response_headers:v,request_hostname:m,request_media_duration:y,request_rendition_lists:c})};r.on("initFragmentLoaded",h);var d=function(e){var t=e.type,n=e.fragmentModel,i=e.chunk||{},a=i.mediaInfo,u=i.start,c=(a||{}).type,h=s(n,r),d=h.requestStart,p=h.requestResponseStart,f=h.requestResponseEnd,v=h.requestBytesLoaded,y=h.requestResponseHeaders,m=h.requestMediaDuration,_=h.requestHostname,g=l(c,r),b=g.currentLevel,T=g.renditionWidth,w=g.renditionHeight,k=g.renditionBitrate;o("requestcompleted",{request_event_type:t,request_start:d,request_response_start:p,request_response_end:f,request_bytes_loaded:v,request_type:c,request_response_headers:y,request_hostname:_,request_media_start_time:u,request_media_duration:m,request_current_level:b,request_labeled_bitrate:k,request_video_width:T,request_video_height:w})};r.on("mediaFragmentLoaded",d);var p=function(e){var t=e.error,r=e.event,n=(r=r||{}).request||{},s=i.default.event&&i.default.event.currentTarget||{};o("requestfailed",{request_error:t+"_"+r.id+"_"+n.type,request_url:r.url,request_hostname:(0,a.extractHostname)(r.url),request_type:n.mediaType,request_error_code:s.status,request_error_type:s.statusText})};r.on("error",p),r._stopMuxMonitor=function(){r.off("manifestLoaded",u),r.off("initFragmentLoaded",h),r.off("mediaFragmentLoaded",d),r.off("error",p),delete r._stopMuxMonitor}}else n.warn("Invalid dash.js player reference. Monitoring blocked.")},t.stopMonitoringDashJS=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},i=0;n.prototype.on=function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach((function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)}))},n.prototype.one=function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var o=function i(){n.off(e,i),t.apply(r||this,arguments)};o._eventEmitterGuid=t._eventEmitterGuid,this.on(e,o)},n.prototype.emit=function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],o=this._listeners["after"+e]||[],a=function(t,n){(t=t.slice()).forEach((function(t){t.call(r,{type:e},n)}))};a(n,t),a(i,t),a(o,t)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2)),i=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",(function(){this._playheadShouldBeProgressing=!0})),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("viewstart",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",(function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()})),this.on("timeupdate",(function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")})),this.on("devicesleep",(function(e,t){null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)}))};i.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=n.default.setInterval((function(){e.emit("playbackheartbeat")}),this.playbackHeartbeatTime))},i.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.on("viewinit",(function(){e.viewErrored=!1})),this.on("error",(function(){try{var t=e.errorTranslator({player_error_code:e.data.player_error_code,player_error_message:e.data.player_error_message});t?(e.data.player_error_code=t.player_error_code,e.data.player_error_message=t.player_error_message,e.viewErrored=!0):(delete e.data.player_error_code,delete e.data.player_error_message)}catch(t){e.mux.log.warn("Exception in error translator callback.",t),e.viewErrored=!0}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};i.prototype._updateWatchTime=function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),(0,n.default)(this.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r},i.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};i.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,n.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},i.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",(function(){this.off("timeupdate",this._updatePlayheadTime)}))};n.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var r=this.getPlayheadTime();void 0!==r&&(this.data.player_playhead_time=r)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",(function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})}))};i.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else{if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime===this.data.player_playhead_time){var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0)}},i.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},i.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},i.prototype._cleanupRebufferTracker=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var i=this.data.player_playhead_time-this._lastPlayheadTime,o=t.viewer_time-this._lastPlayheadTimeUpdatedTime;i>0&&o-i>this.minimumRebufferDuration?((0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(o-i),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+o-i})):this._updateRebufferMetrics()}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},i.prototype._updateRebufferMetrics=function(e){e>0&&(0,n.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("viewinit",(function(){var e=this.data,t=e.view_id;if(!e.view_program_changed){var r=function(e,r){var n=r.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(n||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(n||Date.now(),t)};this.one("playing",r),this.one("adplaying",r),this.one("viewend",(function(){this.off("playing",r),this.off("adplaying",r)}))}}))};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.on("viewinit",(function(){this._lastPlayheadPosition=-1})),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach((function(t){e.on(t,(function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),r=Math.max(0,t-1),i=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,r),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,i),(0,n.default)(this.data,"view_total_content_playback_time",e),(0,n.default)(this.data,"view_total_upscaling",r*e),(0,n.default)(this.data,"view_total_downscaling",i*e)}this._lastPlayheadPosition=-1}))})),["playing","hb"].forEach((function(t){e.on(t,(function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height}))}))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.isSeeking=!1,this.on("seeking",(function(e,t){(0,o.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))})),this.on("seeked",(function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,i.default)(this.data,"view_seek_count",1),(0,i.default)(this.data,"view_seek_duration",t);var r=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(r,t)})),this.on("viewend",(function(){this.isSeeking=!1}))};var i=n(r(1)),o=n(r(0))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(r(1)),a=r(4),s=n(r(0)),l=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},u=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],c=function(){var e=this;this.on("viewinit",(function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0})),u.forEach((function(t){return e.on(t,e._updateAdData)}));var t=function(){e.isAdBreak=!1};this.on("adbreakstart",(function(){this.isAdBreak=!0})),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",(function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),l(this._adRequests,t),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))})),this.on("adresponse",(function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),l(this._adResponses,t);var r=this.findAdRequest(t.ad_request_id);r&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-r.viewer_time))})),this.on("adplay",(function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,o.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)})),this.on("adplaying",(function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)})),this.on("adended",(function(){this._wouldBeNewAdPlay=!0})),this.on("aderror",(function(){this._wouldBeNewAdPlay=!0}))};c.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},c.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},c.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=(0,a.extractHostnameAndDomain)(t.ad_tag_url),n=i(r,2),o=n[0],s=n[1];this.data.view_preroll_ad_tag_domain=s,this.data.view_preroll_ad_tag_hostname=o}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var l=(0,a.extractHostnameAndDomain)(t.ad_asset_url),u=i(l,2),c=u[0],h=u[1];this.data.view_preroll_ad_asset_domain=h,this.data.view_preroll_ad_asset_hostname=c}}},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=void 0,r=void 0,i=function(){t&&((0,n.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(r))},o=!1,a=function(){o=!1,i()};this.on("waiting",(function(){o&&((0,n.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),r=window.setInterval((function(){if(t){var r=Date.now();(0,n.default)(e.data,"view_waiting_rebuffer_duration",r-t),t=r}}),250))})),this.on("playing",(function(){i(),o=!0})),this.on("pause",a),this.on("seeking",a)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.one("playbackheartbeat",i),this.on("playbackheartbeatend",(function(){e.off("before*",o),e.one("playbackheartbeat",i)}))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=function(){this.lastWallClockTime=Date.now(),this.on("before*",o)},o=function(e){var t=Date.now(),r=this.lastWallClockTime;this.lastWallClockTime=t,t-r>3e4&&(this.emit("devicesleep",{viewer_time:r}),(0,n.default)(this.data,{viewer_time:r}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,n.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(39),a=n(r(3)),s=n(r(43)),l=n(r(9)),u=n(r(15)),c=n(r(44)),h=n(r(46)),d=n(r(0)),p=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],f=["viewstart","error","ended","viewend"],v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new c.default((0,s.default)(t,r.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=r.sampleRate,this.disableCookies=r.disableCookies,this.respectDoNotTrack=r.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:h.default.name,viewer_application_version:h.default.version,viewer_application_engine:h.default.layout,viewer_device_name:h.default.product,viewer_device_category:"",viewer_device_manufacturer:h.default.manufacturer,viewer_os_family:h.default.os&&h.default.os.family,viewer_os_architecture:h.default.os&&h.default.os.architecture,viewer_os_version:h.default.os&&h.default.os.version},this.viewerData=this.disableCookies?{}:(0,o.getAndUpdateViewerData)()};v.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,l.default)())return a.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":i(t)))return a.default.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:(0,o.getAndUpdateSessionData)(),n={};(0,d.default)(n,this.pageLevelData),(0,d.default)(n,t),(0,d.default)(n,r),(0,d.default)(n,this.viewerData),n.event=e,n.env_key=this.envKey,n.user_id&&(n.viewer_user_id=n.user_id,delete n.user_id);var s=n.mux_sample_number>=this.sampleRate,c=this._deduplicateBeaconData(e,n),h=(0,u.default)(c);if(this.lastEventTime=Date.now(),s)return a.default.info("Not sending event due to sample rate restriction",e,n,h);if(!this.envKey)return a.default.info("Not sending event due to missing environment key",e,n,h);if(!this.rateLimited)if(a.default.info("Sending event",e,n,h),this.rateLimited=!this.eventQueue.queueEvent(e,h),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(f.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return n.event="eventrateexceeded",h=(0,u.default)(n),this.eventQueue.queueEvent(n.event,h),a.default.error("Beaconing disabled due to rate limit.")}},v.prototype.destroy=function(){this.eventQueue.destroy(!1)};var y=function(e,t,r,n){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===r?"undefined":i(r))&&"object"===(void 0===n?"undefined":i(n))&&Object.keys(r||{}).length===Object.keys(n||{}).length)};v.prototype._deduplicateBeaconData=function(e,t){var r=this,n={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)n=(0,d.default)({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var o=0===e.indexOf("request");Object.keys(t).forEach((function(e){var i=t[e];(i!==r.previousBeaconData[e]||p.indexOf(e)>-1||y(o,e,i,r.previousBeaconData[e]))&&(n[e]=i,r.previousBeaconData[e]=i)}))}return n},t.default=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var i=n(r(12)),o=n(r(42)),a=r(6),s=function(){var e=void 0;try{e=i.default.parse(o.default.get("muxData")||"")}catch(t){e={}}return e},l=function(e){o.default.set("muxData",i.default.stringify(e),{expires:7300})};t.getAndUpdateViewerData=function(){var e=s();return e.mux_viewer_id=e.mux_viewer_id||(0,a.generateUUID)(),e.msn=e.msn||Math.random(),l(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},t.getAndUpdateSessionData=function(){var e=s(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,a.generateUUID)(),e.sst=t),e.sex=t+15e5,l(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}}},function(e,t,r){"use strict";var n=r(13),i=r(14),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,i,o,a,l,u,c,h,d,p,f){var v=t;if("function"==typeof u)v=u(r,v);else if(v instanceof Date)v=d(v);else if(null===v){if(o)return l&&!f?l(r,s.encoder):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||n.isBuffer(v))return l?[p(f?r:l(r,s.encoder))+"="+p(l(v,s.encoder))]:[p(r)+"="+p(String(v))];var y,m=[];if(void 0===v)return m;if(Array.isArray(u))y=u;else{var _=Object.keys(v);y=c?_.sort(c):_}for(var g=0;g<y.length;++g){var b=y[g];a&&null===v[b]||(m=Array.isArray(v)?m.concat(e(v[b],i(r,b),i,o,a,l,u,c,h,d,p,f)):m.concat(e(v[b],r+(h?"."+b:"["+b+"]"),i,o,a,l,u,c,h,d,p,f)))}return m};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===a.delimiter?s.delimiter:a.delimiter,c="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,h="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,d="boolean"==typeof a.encode?a.encode:s.encode,p="function"==typeof a.encoder?a.encoder:s.encoder,f="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,y="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,m="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var _,g,b=i.formatters[a.format];"function"==typeof a.filter?r=(g=a.filter)("",r):Array.isArray(a.filter)&&(_=g=a.filter);var T,w=[];if("object"!=typeof r||null===r)return"";T=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var k=o[T];_||(_=Object.keys(r)),f&&_.sort(f);for(var S=0;S<_.length;++S){var C=_[S];h&&null===r[C]||(w=w.concat(l(r[C],C,k,c,h,d?p:null,g,f,v,y,b,m)))}var E=w.join(u),x=!0===a.addQueryPrefix?"?":"";return E.length>0?x+E:""}},function(e,t,r){"use strict";var n=r(13),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,a),l=0;l<s.length;++l){var u,c,h=s[l],d=h.indexOf("]="),p=-1===d?h.indexOf("="):d+1;-1===p?(u=t.decoder(h,o.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(h.slice(0,p),o.decoder),c=t.decoder(h.slice(p+1),o.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,l=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var u=0;null!==(a=o.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(s,10);!isNaN(l)&&a!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[])[l]=n:o[s]=n}n=o}return n}(l,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?a(e,r):e,l=r.plainObjects?Object.create(null):{},u=Object.keys(i),c=0;c<u.length;++c){var h=u[c],d=s(h,i[h],r);l=n.merge(l,d,r)}return n.compact(l)}},function(e,t,r){"use strict";var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){var s=!1;if(void 0!==(i="function"==typeof(n=a)?n.call(t,r,t,e):n)&&(e.exports=i),s=!0,"object"===o(t)&&(e.exports=a(),s=!0),!s){var l=window.Cookies,u=window.Cookies=a();u.noConflict=function(){return window.Cookies=l,u}}}((function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function t(r){function n(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},n.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(t){}return i=r.write?r.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var h=l[c].split("="),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=h[0].replace(u,decodeURIComponent);if(d=r.read?r.read(d,p):r(d,p)||d.replace(u,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(t===p){a=d;break}t||(a[p]=d)}catch(t){}}return a}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}((function(){}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||"litix.io",(e=e||"").match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2)),o=n(r(3)),a=n(r(45)),s=n(r(0)),l=n(r(15)),u=!!i.default.XMLHttpRequest&&"withCredentials"in new i.default.XMLHttpRequest,c={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},h=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,s.default)({},c,t)};h.prototype.queueEvent=function(e,t){var r=(0,s.default)({},t);return u?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(a.default.send(this._beaconUrl,r),!0)},h.prototype.flushEvents=function(){u&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},h.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),i.default.clearTimeout(this._sendTimeout)},h.prototype._clearBeaconQueue=function(){var e=i.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,r=this._eventQueue.slice(t);if(t>0&&(0,s.default)(r[r.length-1],(0,l.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:r}));else if(i.default.XMLHttpRequest){var n=new i.default.XMLHttpRequest;n.open("POST",this._beaconUrl),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({events:r}))}else a.default.send(this._beaconUrl,r[r.length-1])},h.prototype._sendBeaconQueue=function(){var e=this;if(i.default.XMLHttpRequest&&!this._postInFlight){var t=new i.default.XMLHttpRequest,r=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=r.concat(e._eventQueue),e._failureCount+=1,o.default.info("Error sending beacon: "+t.status),o.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:r}))}},h.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},h.prototype._startBeaconSending=function(){var e=this;i.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=i.default.setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(12)),o=n(r(2)),a={send:function(e,t){function r(){n.src=s+(a?"&rc="+a:"")}var n=new Image,a=0,s=e+"?"+i.default.stringify(t);return n.addEventListener("error",(function(){a>3||o.default.setTimeout((function(){a++,r()}),5e3*a)})),r(),n}};t.default=a},function(e,t,r){(function(e,n){var i;(function(){"use strict";function o(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function a(e){return e=d(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function s(e,t){for(var r in e)k.call(e,r)&&t(e[r],r,e)}function l(e){return null==e?o(e):S.call(e).slice(8,-1)}function u(e,t){var r=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}function c(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function h(e,t){var r=null;return function(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=g)for(;++r<n;)t(e[r],r,e);else s(e,t)}(e,(function(n,i){r=t(r,n,i,e)})),r}function d(e){return String(e).replace(/^ +| +$/g,"")}var p={function:!0,object:!0},f=p[typeof window]&&window||this,v=f,y=p[typeof t]&&t,m=p[typeof e]&&e&&!e.nodeType&&e,_=y&&m&&"object"==typeof n&&n;!_||_.global!==_&&_.window!==_&&_.self!==_||(f=_);var g=Math.pow(2,53)-1,b=/\bOpera/,T=this,w=Object.prototype,k=w.hasOwnProperty,S=w.toString,C=function e(t){function r(e){return h(e,(function(e,r){var n=r.pattern||c(r);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=a(e[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}var n=f,i=t&&"object"==typeof t&&"String"!=l(t);i&&(n=t,t=null);var o=n.navigator||{},p=o.userAgent||"";t||(t=p);var y,m,_=i||T==v,g=i?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(S.toString()),w=i?"Object":"ScriptBridgingProxyObject",k=i?"Object":"Environment",C=i&&n.java?"JavaPackage":l(n.java),E=i?"Object":"RuntimeObject",x=/\bJava/.test(C)&&n.java,j=x&&l(n.environment)==k,P=x?"a":"α",O=x?"b":"β",A=n.document||{},M=n.operamini||n.opera,D=b.test(D=i&&M?M["[[Class]]"]:l(M))?D:M=null,I=t,R=[],N=null,L=t==p,F=L&&M&&"function"==typeof M.version&&M.version(),B=h([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,r){return e||RegExp("\\b"+(r.pattern||c(r))+"\\b","i").exec(t)&&(r.label||r)})),H=h(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,r){return e||RegExp("\\b"+(r.pattern||c(r))+"\\b","i").exec(t)&&(r.label||r)})),q=r([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=h({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},(function(e,r,n){return e||(r[q]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(q)]||RegExp("\\b"+c(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n})),W=h(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,r){var n=r.pattern||c(r);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),a(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,r.label||r)),e}));if(B&&(B=[B]),V&&!q&&(q=r([V])),(y=/\bGoogle TV\b/.exec(q))&&(q=y[0]),/\bSimulator\b/i.test(t)&&(q=(q?q+" ":"")+"Simulator"),"Opera Mini"==H&&/\bOPiOS\b/.test(t)&&R.push("running in Turbo/Uncompressed mode"),"IE"==H&&/\blike iPhone OS\b/.test(t)?(V=(y=e(t.replace(/like iPhone OS/,""))).manufacturer,q=y.product):/^iP/.test(q)?(H||(H="Safari"),W="iOS"+((y=/ OS ([\d_]+)/i.exec(t))?" "+y[1].replace(/_/g,"."):"")):"Konqueror"!=H||/buntu/i.test(W)?V&&"Google"!=V&&(/Chrome/.test(H)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(q))||/\bAndroid\b/.test(W)&&/^Chrome/.test(H)&&/\bVersion\//i.test(t)?(H="Android Browser",W=/\bAndroid\b/.test(W)?W:"Android"):"Silk"==H?(/\bMobi/i.test(t)||(W="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&R.unshift("accelerated")):"PaleMoon"==H&&(y=/\bFirefox\/([\d.]+)\b/.exec(t))?R.push("identifying as Firefox "+y[1]):"Firefox"==H&&(y=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(W||(W="Firefox OS"),q||(q=y[1])):!H||(y=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(H))?(H&&!q&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(y+"/")+8))&&(H=null),(y=q||V||W)&&(q||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(W))&&(H=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(W)?W:y)+" Browser")):"Electron"==H&&(y=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&R.push("Chromium "+y):W="Kubuntu",F||(F=function(e){return h(e,(function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",c(H),"(?:Firefox|Minefield|NetFront)"])),(y=("iCab"==B&&parseFloat(F)>3?"WebKit":/\bOpera\b/.test(H)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(t)&&("Mac OS"==W?"Tasman":"Trident")||"WebKit"==B&&/\bPlayStation\b(?! Vita\b)/i.test(H)&&"NetFront")&&(B=[y]),"IE"==H&&(y=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(H+=" Mobile",W="Windows Phone "+(/\+$/.test(y)?y:y+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(H="IE Mobile",W="Windows Phone 8.x",R.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=H&&"Trident"==B&&(y=/\brv:([\d.]+)/.exec(t))&&(H&&R.push("identifying as "+H+(F?" "+F:"")),H="IE",F=y[1]),L){if(u(n,"global"))if(x&&(I=(y=x.lang.System).getProperty("os.arch"),W=W||y.getProperty("os.name")+" "+y.getProperty("os.version")),_&&u(n,"system")&&(y=[n.system])[0]){W||(W=y[0].os||null);try{y[1]=n.require("ringo/engine").version,F=y[1].join("."),H="RingoJS"}catch(t){y[0].global.system==n.system&&(H="Narwhal")}}else"object"==typeof n.process&&!n.process.browser&&(y=n.process)?"object"==typeof y.versions?"string"==typeof y.versions.electron?(R.push("Node "+y.versions.node),H="Electron",F=y.versions.electron):"string"==typeof y.versions.nw&&(R.push("Chromium "+F,"Node "+y.versions.node),H="NW.js",F=y.versions.nw):(H="Node.js",I=y.arch,W=y.platform,F=(F=/[\d.]+/.exec(y.version))?F[0]:"unknown"):j&&(H="Rhino");else l(y=n.runtime)==w?(H="Adobe AIR",W=y.flash.system.Capabilities.os):l(y=n.phantom)==E?(H="PhantomJS",F=(y=y.version||null)&&y.major+"."+y.minor+"."+y.patch):"number"==typeof A.documentMode&&(y=/\bTrident\/(\d+)/i.exec(t))?(F=[F,A.documentMode],(y=+y[1]+4)!=F[1]&&(R.push("IE "+F[1]+" mode"),B&&(B[1]=""),F[1]=y),F="IE"==H?String(F[1].toFixed(1)):F[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(H)&&(R.push("masking as "+H+" "+F),H="IE",F="11.0",B=["Trident"],W="Windows");W=W&&a(W)}if(F&&(y=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(L&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(y)?"beta":"alpha",F=F.replace(RegExp(y+"\\+?$"),"")+("beta"==N?O:P)+(/\d+\+?/.exec(y)||"")),"Fennec"==H||"Firefox"==H&&/\b(?:Android|Firefox OS)\b/.test(W))H="Firefox Mobile";else if("Maxthon"==H&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(q))"Xbox 360"==q&&(W=null),"Xbox 360"==q&&/\bIEMobile\b/.test(t)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(H)&&(!H||q||/Browser|Mobi/.test(H))||"Windows CE"!=W&&!/Mobi/i.test(t))if("IE"==H&&L)try{null===n.external&&R.unshift("platform preview")}catch(t){R.unshift("embedded")}else(/\bBlackBerry\b/.test(q)||/\bBB10\b/.test(t))&&(y=(RegExp(q.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||F)?(W=((y=[y,/BB10/.test(t)])[1]?(q=null,V="BlackBerry"):"Device Software")+" "+y[0],F=null):this!=s&&"Wii"!=q&&(L&&M||/Opera/.test(H)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==H&&/\bOS X (?:\d+\.){2,}/.test(W)||"IE"==H&&(W&&!/^Win/.test(W)&&F>5.5||/\bWindows XP\b/.test(W)&&F>8||8==F&&!/\bTrident\b/.test(t)))&&!b.test(y=e.call(s,t.replace(b,"")+";"))&&y.name&&(y="ing as "+y.name+((y=y.version)?" "+y:""),b.test(H)?(/\bIE\b/.test(y)&&"Mac OS"==W&&(W=null),y="identify"+y):(y="mask"+y,H=D?a(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(y)&&(W=null),L||(F=null)),B=["Presto"],R.push(y));else H+=" Mobile";(y=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(y=[parseFloat(y.replace(/\.(\d)$/,".0$1")),y],"Safari"==H&&"+"==y[1].slice(-1)?(H="WebKit Nightly",N="alpha",F=y[1].slice(0,-1)):F!=y[1]&&F!=(y[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(F=null),y[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==y[0]&&537.36==y[2]&&parseFloat(y[1])>=28&&"WebKit"==B&&(B=["Blink"]),L&&(g||y[1])?(B&&(B[1]="like Chrome"),y=y[1]||((y=y[0])<530?1:y<532?2:y<532.05?3:y<533?4:y<534.03?5:y<534.07?6:y<534.1?7:y<534.13?8:y<534.16?9:y<534.24?10:y<534.3?11:y<535.01?12:y<535.02?"13+":y<535.07?15:y<535.11?16:y<535.19?17:y<536.05?18:y<536.1?19:y<537.01?20:y<537.11?"21+":y<537.13?23:y<537.18?24:y<537.24?25:y<537.36?26:"Blink"!=B?"27":"28")):(B&&(B[1]="like Safari"),y=(y=y[0])<400?1:y<500?2:y<526?3:y<533?4:y<534?"4+":y<535?5:y<537?6:y<538?7:y<601?8:"8"),B&&(B[1]+=" "+(y+="number"==typeof y?".x":/[.+]/.test(y)?"":"+")),"Safari"==H&&(!F||parseInt(F)>45)&&(F=y)),"Opera"==H&&(y=/\bzbov|zvav$/.exec(W))?(H+=" ",R.unshift("desktop mode"),"zvav"==y?(H+="Mini",F=null):H+="Mobile",W=W.replace(RegExp(" *"+y+"$"),"")):"Safari"==H&&/\bChrome\b/.exec(B&&B[1])&&(R.unshift("desktop mode"),H="Chrome Mobile",F=null,/\bOS X\b/.test(W)?(V="Apple",W="iOS 4.3+"):W=null),F&&0==F.indexOf(y=/[\d.]+$/.exec(W))&&t.indexOf("/"+y+"-")>-1&&(W=d(W.replace(y,""))),B&&!/\b(?:Avant|Nook)\b/.test(H)&&(/Browser|Lunascape|Maxthon/.test(H)||"Safari"!=H&&/^iOS/.test(W)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(H)&&B[1])&&(y=B[B.length-1])&&R.push(y),R.length&&(R=["("+R.join("; ")+")"]),V&&q&&q.indexOf(V)<0&&R.push("on "+V),q&&R.push((/^on /.test(R[R.length-1])?"":"on ")+q),W&&(y=/ ([\d.+]+)$/.exec(W),m=y&&"/"==W.charAt(W.length-y[0].length-1),W={architecture:32,family:y&&!m?W.replace(y[0],""):W,version:y?y[1]:null,toString:function(){var e=this.version;return this.family+(e&&!m?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(y=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(W&&(W.architecture=64,W.family=W.family.replace(RegExp(" *"+y),"")),H&&(/\bWOW64\b/i.test(t)||L&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&R.unshift("32-bit")):W&&/^OS X/.test(W.family)&&"Chrome"==H&&parseFloat(F)>=39&&(W.architecture=64),t||(t=null);var U={};return U.description=t,U.layout=B&&B[0],U.manufacturer=V,U.name=H,U.prerelease=N,U.product=q,U.ua=t,U.version=H&&F,U.os=W||{architecture:null,family:null,version:null,toString:function(){return"null"}},U.parse=e,U.toString=function(){return this.description||""},U.version&&R.unshift(F),U.name&&R.unshift(H),W&&H&&(W!=String(W).split(" ")[0]||W!=H.split(" ")[0]&&!q)&&R.push(q?"("+W+")":"on "+W),R.length&&(U.description=R.join(" ")),U}();f.platform=C,void 0!==(i=function(){return C}.call(t,r,t,e))&&(e.exports=i)}).call(this)}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0,t=0,r=0,n=0,i=0,o=0,a=0;this.on("requestcompleted",(function(o,a){var s=a.request_start,l=a.request_response_start,u=a.request_response_end,c=a.request_bytes_loaded;n++;var h=void 0,d=void 0;if(l?(h=l-s,d=u-l):d=u-s,d>0&&c>0){var p=c/d*8e3;i++,t+=c,r+=d,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,p),this.data.view_average_request_throughput=t/r*8e3,this.data.view_request_count=n,h>0&&(e+=h,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,h),this.data.view_average_request_latency=e/i)}})),this.on("requestfailed",(function(e,t){n++,o++,this.data.view_request_count=n,this.data.view_request_failed_count=o})),this.on("requestcanceled",(function(e,t){n++,a++,this.data.view_request_count=n,this.data.view_request_canceled_count=a}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e,t,r){var u=(0,a.findMediaElement)(t),c=i(u,3),h=c[0],d=c[1],p=c[2],f=e.log,v=e.utils.getComputedStyle,y=e.utils.secondsToMs;return h?"video"!==p&&"audio"!==p?f.error("The element of `"+d+"` was not a media element."):((r=(0,o.default)({automaticErrorTracking:!0},r)).data=(0,o.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.8.0"},r.data),r.getPlayheadTime=function(){return y(h.currentTime)},r.getStateData=function(){var e=this.hlsjs&&this.hlsjs.url,t=this.dashjs&&n("function"===this.dashjs.getSource)&&this.dashjs.getSource();return{player_is_paused:h.paused,player_playhead_time:y(h.currentTime),player_width:parseInt(v(h,"width")),player_height:parseInt(v(h,"height")),player_autoplay_on:h.autoplay,player_preload_on:h.preload,video_poster_url:h.poster,video_source_url:e||t||h.currentSrc,video_source_duration:y(h.duration),video_source_height:h.videoHeight,video_source_width:h.videoWidth}},h.mux=h.mux||{},h.mux.emit=function(t,r){e.emit(d,t,r)},h.mux.destroy=function(){Object.keys(h.mux.listeners).forEach((function(e){h.removeEventListener(e,h.mux.listeners[e],!1)})),delete h.mux.listeners,e.emit(d,"destroy")},h.mux.swapElement=function(t){var r=(0,a.findMediaElement)(t),n=i(r,3),s=n[0],l=n[1],u=n[2];return s?"video"!==u&&"audio"!==u?e.log.error("The element of `"+l+"` was not a media element."):(s.muxId=h.muxId,delete h.muxId,s.mux=s.mux||{},s.mux.listeners=(0,o.default)({},h.mux.listeners),delete h.mux.listeners,Object.keys(s.mux.listeners).forEach((function(e){h.removeEventListener(e,s.mux.listeners[e],!1),s.addEventListener(e,s.mux.listeners[e],!1)})),s.mux.swapElement=h.mux.swapElement,s.mux.destroy=h.mux.destroy,delete h.mux,void(h=s)):e.log.error("No element was found with the `"+l+"` query selector.")},h.mux.addHLSJS=function(t){e.addHLSJS(d,t)},h.mux.addDashJS=function(t){e.addDashJS(d,t)},h.mux.removeHLSJS=function(){e.removeHLSJS(d)},h.mux.removeDashJS=function(){e.removeDashJS(d)},e.init(d,r),e.emit(d,"playerready"),h.paused||(e.emit(d,"play"),h.readyState>2&&e.emit(d,"playing")),h.mux.listeners={},void s.forEach((function(t){("error"!==t||r.automaticErrorTracking)&&(h.mux.listeners[t]=function(){var r={};"error"===t&&(r.player_error_code=h.error&&h.error.code,r.player_error_message=h.error&&l[h.error.code]),e.emit(d,t,r)},h.addEventListener(t,h.mux.listeners[t],!1))}))):f.error("No element was found with the `"+d+"` query selector.")};var o=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=r(8),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(50)),o=n(r(1)),a=n(r(51)),s=n(r(52)),l=n(r(0)),u=n(r(7)),c=r(4),h={};h.safeCall=i.default,h.safeIncrement=o.default,h.getComputedStyle=a.default,h.secondsToMs=s.default,h.assign=l.default,h.headersStringToObject=u.default,h.extractHostnameAndDomain=c.extractHostnameAndDomain,h.extractHostname=c.extractHostname,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){var o=i;if(e&&"function"==typeof e[t])try{o=e[t].apply(e,r)}catch(e){n.default.info("safeCall error",e)}return o};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(n.default.defaultView&&n.default.defaultView.getComputedStyle)return n.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.floor(1e3*e)}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},a=!1;e.on("adstart",(function(){a=!0})),e.on("adend",(function(){a=!1})),e.on("adserror",(function(){a=!1}));var s=function(){var i=n(t.currentTime()),s=function r(){var s=Date.now(),l=n(t.currentTime());if(a){if(l>i){var u=o();u.viewer_time=s-Math.max(0,l-i),t.off("timeupdate",r),e.mux.emit("adplaying",u)}}else t.off("timeupdate",r)};t.on("timeupdate",s);var l=function e(){t.off("timeupdate",s),r.forEach((function(r){t.off(r,e)}))};r.forEach((function(e){t.on(e,l)}))};i.forEach((function(e){t.on(e,s)}))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)).default.utils.secondsToMs},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=n(r(3)),o=n(r(0)),a=n(r(4)),s=n(r(6)),l=n(r(7)),u=n(r(8)),c=n(r(9)),h=n(r(10)),d=o.default.log,p=o.default.utils.assign,f=o.default.utils.safeCall,v=o.default.utils.getComputedStyle,y=o.default.utils.secondsToMs,m=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];(i.default.registerPlugin||i.default.plugin||function(){o.default.log.error("No valid method to register videojs plugin available.")})("mux",(function(e){if(i.default.IS_IE8)return!1;var t=this,r=t.id();(e=p({automaticErrorTracking:!0},e)).data=p({player_software_name:"Video.js",player_software_version:i.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.5.2"},e.data),e.getPlayheadTime=function(){return y(t.currentTime())},e.getStateData=function(){var e=f(t,"videoHeight"),r=f(t,"videoWidth");if(void 0===r||void 0===e){var n=t.el().firstChild;n&&"VIDEO"===n.nodeName.toUpperCase()&&(e=n.videoHeight,r=n.videoWidth)}return{player_is_paused:f(t,"paused"),player_is_fullscreen:f(t,"isFullscreen"),player_autoplay_on:!!f(t,"autoplay"),player_preload_on:f(t,"preload"),player_width:v(t.el(),"width"),player_height:v(t.el(),"height"),player_language_code:f(t,"language"),video_poster_url:f(t,"poster"),video_source_url:f(t,"currentSrc"),video_source_mime_type:f(t,"currentType"),video_source_duration:y(f(t,"duration")||0),video_source_height:e,video_source_width:r}},t.mux=function(){d.error("[videojs-mux] The plugin was initialized more than once.")},t.mux.emit=function(e,t){o.default.emit(r,e,t)},t.mux.log=d,t.mux.utils=o.default.utils,o.default.init(r,e);var n=!1,h=function(){n||t.mux.emit("playerready"),n=!0};t.ready((function(){t.addClass("vjs-mux"),a.default.setTimeout(h,0)}));var _=!1;t.one("play",h),m.forEach((function(r){("error"!==r||e.automaticErrorTracking)&&t.on(r,(function(){if(!_){var e={};if("error"===r){var n=f(t,"error");e.player_error_code=n&&n.code,e.player_error_message=n&&n.message}t.mux.emit(r,e)}}))}));var g=!1;t.on("play",(function(){g=!0})),t.on("pause",(function(){g=!1})),t.on("adstart",(function(){_=!0,g&&t.mux.emit("pause"),t.mux.emit("adbreakstart")})),t.on("adend",(function(){t.mux.emit("adbreakend"),_=!1,f(t,"paused")||(t.mux.emit("play"),g=!0,t.onceux&&t.mux.emit("playing"))})),t.ima&&(0,s.default)(t),t.onceux&&(0,c.default)(t),t.ima3&&"function"==typeof t.ima3.ready&&(0,l.default)(t),t.FreeWheelPlugin&&t.FreeWheelPlugin.VERSION&&(0,u.default)(t),t.on("dispose",(function(){t.mux.emit("destroy")}))})),(0,h.default)(i.default)},function(e,t){e.exports=n},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(5))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){var r="function"==typeof(t=t||{}).getAdData?t.getAdData():{},n="function"==typeof t.getAd?t.getAd():{},i="function"==typeof n.getMediaUrl?n.getMediaUrl():r.mediaUrl,o=e.ima.settings||{},a={};return i&&(a.ad_asset_url=i),o.adTagUrl&&(a.ad_tag_url=o.adTagUrl),a},r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;try{var l=window.google.ima.AdEvent.Type;r=l.LOADED,n=l.STARTED,i=l.COMPLETE,o=l.PAUSED,a=l.RESUMED,s=l.SKIPPED}catch(e){r="loaded",n="start",i="complete",o="pause",a="resume",s="skip"}var u=0;e.mux.triggerAdRequest=function(){u++,e.mux.emit("adrequest",t())},e.on("adsready",(function(){var l=e.ima.addEventListener||function(){};l(r,(function(r){var n=t(r);u>0&&(u--,e.mux.emit("adresponse",n)),e.mux.emit("adplay",n)})),l(n,(function(r){var n=t(r);e.mux.emit("adplaying",n)})),l(a,(function(r){var n=t(r);e.mux.emit("adplay",n),e.mux.emit("adplaying",n)})),l(o,(function(r){var n=t(r);e.mux.emit("adpause",n)})),l(i,(function(r){var n=t(r);e.mux.emit("adended",n)})),l(s,(function(r){var n=t(r);e.mux.emit("adended",n)})),e.on("adserror",(function(){u>0&&(u--,e.mux.emit("adresponse")),e.mux.emit("aderror")}))}))}},function(e,t,r){"use strict";function n(e){if("string"!=typeof e)return!1;var t=e.split(".").map((function(e){return parseInt(e)})),r=t[0],n=t[1];return r>2||2===r&&n>=3}Object.defineProperty(t,"__esModule",{value:!0}),t.brightcoveImaAdsEventsSupported=n,t.default=function(e){var t=function(){var t=e.ima3.currentAd,r=e.ima3.settings,n={};return t&&(n.ad_asset_url=t.mediaUrl),r&&(n.ad_tag_url=r.serverUrl),n};if(n(e.ima3.version)){var r=0,o=function(){r>0&&(r--,e.mux.emit("adresponse",t()))};e.on("ads-request",(function(){r++,e.mux.emit("adrequest",t())})),e.on("ads-load",(function(){o(),e.mux.emit("adplay",t())})),e.on("adserror",(function(){o(),e.mux.emit("aderror")})),e.on("ads-play",(function(){e.mux.emit("adplay",t())})),e.on("ads-pause",(function(){e.mux.emit("adpause",t())})),e.on("ads-ad-ended",(function(){e.mux.emit("adended",t())}))}e.ima3.ready((function(){e.ima3.adPlayer?(n(e.ima3.version)||(e.ima3.adPlayer.on("play",(function(){e.mux.emit("adplay")})),e.ima3.adPlayer.on("pause",(function(){e.mux.emit("adpause")})),e.ima3.adPlayer.on("ended",(function(){e.mux.emit("adended")}))),(0,i.default)(e,e.ima3.adPlayer,["pause","ended","adserror"],["play"],t)):(e.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),e.on("ads-ad-started",(function(){e.mux.emit("adplaying",t())})),e.on("ads-play",(function(){e.mux.emit("adplaying",t())})))}))};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){var r=e.FreeWheelPlugin,n={};switch(t){case"adplay":case"adplaying":case"adpause":n.ad_asset_url=e.currentSrc()}return r&&(n.ad_tag_url="html5"===r.tech.toLowerCase()?r.settings.Html5.serverUrl:r.settings.Flash.serverUrl),n};e.on("ads-request",(function(){e.mux.emit("adrequest",t("adrequest"))})),e.on("ads-load",(function(){e.mux.emit("adresponse",t("adresponse"))})),e.on("adserror",(function(){e.mux.emit("aderror")})),e.on("ads-ad-started",(function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))})),e.on("ads-play",(function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))})),e.on("ads-pause",(function(){e.mux.emit("adpause",t("adpause"))})),e.on("ads-ad-ended",(function(){e.mux.emit("adended",t("adended"))})),e.on("adend",(function(){e.mux.emit("play")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e,e,["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],["adstart","onceux-linearad-resume"]),e.on("adstart",(function(){e.mux.emit("adplay")})),e.on("onceux-linearad-start",(function(t){t.linearAd&&t.linearAd.index>0&&(e.mux.emit("adplay"),e.mux.emit("adplaying"))})),e.on("onceux-linearad-resume",(function(){e.mux.emit("adplay")})),e.on("onceux-linearad-pause",(function(){e.mux.emit("adpause")})),e.on("onceux-linearad-complete",(function(){e.mux.emit("adended")})),e.on("onceux-linearad-skipped",(function(){e.mux.emit("adended")}))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){if(!o&&"function"==typeof e.getTech){for(var t=(e.getTech("Html5")||{}).sourceHandlers,r=0;r<t.length;r++)!function(r){var o=t[r],a=o.handleSource;o.handleSource=function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a(t,r,o);if(s&&"function"==typeof s.xhr)try{var l=e.VERSION.split("."),u=n(l,2),c=u[0],h=u[1];c=parseInt(c),h=parseInt(h);var d=c>=7&&h>=4?s.player().id():s.player_.el_.parentNode.id;(0,i.default)(e(d),s.xhr)}catch(e){}return s}}(r);o=!0}};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(11)),o=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=function(t,r,i){var o=(0,n.default)(e,t,r);return function(){try{o()}catch(e){}try{i()}catch(e){}}},i=function(e){return function(t){var n=Date.now();try{e(t)}catch(e){}try{t.onreadystatechange=r(t,n,t.onreadystatechange||function(){})}catch(e){}}};t.beforeRequest=function(e){return function(t){var r=e(t);return r.beforeSend=i(r.beforeSend||function(){}),r}}(t.beforeRequest||function(e){return e})};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(12))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e,t,r){var i=e.mux.utils.extractHostnameAndDomain,o=e.mux.utils.headersStringToObject,a=0;return function(){var s=t.readyState;if(s>=2){if(a=a||Date.now(),4!==s)return;if(t.status>=200&&t.status<300){var l=Date.now(),u="arraybuffer"===t.responseType?t.response.byteLength:t.responseText.length,c=i(t.responseURL),h=n(c,1)[0],d=o(t.getAllResponseHeaders?t.getAllResponseHeaders():""),p=function(e){var t=e["content-type"];return t?t.match(/^audio\/mpegurl/i)?"manifest":t.match(/^audio.*/i)?"audio":t.match(/^video.*/)?"video":t.match(/^application\/x-mpegurl/i)?"manifest":t.match(/^application\/vnd.apple.mpegurl/i)?"manifest":t.match(/^application\/dash+xml/i)?"manifest":"unknown":"unknown"}(d),f={request_start:r,request_response_start:a,request_response_end:l,request_bytes_loaded:u,request_hostname:h,request_response_headers:d,request_type:p};e.mux.emit("requestcompleted",f)}else e.mux.emit("requestfailed")}}}}]))},"./node_modules/videojs-sneakpeek/dist/videojs-sneakpeek.min.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.enablePlugin=function(e,t){(o.default.registerPlugin||o.default.plugin)(e,t)},t.default=function(e){l.basePath=e.basePath||l.basePath;var t=n({},l,e),r=this,o=[],s=void 0;function h(){if(!s){for(var e=0;e<o.length;e++)if("metadata"===o[e].kind&&"sneakpeek"===o[e].label){(s=o[e]).mode="hidden";break}if(s){if(-1!==navigator.userAgent.toLowerCase().indexOf("android")){var n=r.controlBar.progressControl,l=function(){n.removeClass("fake-active")};n.on("touchstart",(function(){n.addClass("fake-active")})),n.on("touchend",l),n.on("touchcancel",l)}var h=document.createElement("div");h.className="vjs-sneakpeek-holder";var d=document.createElement("img");h.appendChild(d),d.className="vjs-sneakpeek";var p=r.duration();r.on("durationchange",(function(){p=r.duration()})),r.on("loadedmetadata",(function(){p=r.duration()}));var f=r.controlBar.progressControl;f.el().appendChild(h),f.on("mousemove",v),f.on("touchmove",v),f.on("mouseout",y),f.on("touchcancel",y),f.on("touchend",y),r.on("userinactive",y)}}function v(e){var n=function(){if(a.default.pageXOffset)return{x:a.default.pageXOffset,y:a.default.pageYOffset};return{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}}().x,o=u(f.el()).getBoundingClientRect(),l=e.pageX;e.changedTouches&&(l=e.changedTouches[0].pageX);var v=(o.width||o.right)+n,y=l||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;y-=u(f.el()).getBoundingClientRect().left+n;for(var m=Math.floor(y/f.width()*p),_=s&&s.cues&&s.cues.length,g=0,b=void 0;g<_;){var T=s.cues[g];if(T.startTime<=m&&T.endTime>=m){b=c(T.text);break}g++}if(void 0!==b){if(b.src&&d.src!==b.src){var w="";"/"===b.src[0]&&(w=(w=r.currentSrc()).substring(0,w.lastIndexOf("/"))),d.src=w+b.src+function(e){var t=Object.entries(e).map((function(e){var t=i(e,2);return t[0]+"="+t[1]})).join("&");if(""!==t)return"?"+t;return""}(t.urlParams)}b.w=b.w||t.width,b.h=b.h||t.height,h.style.width===b.w&&h.style.height===b.h||(h.style.width=b.w+"px",h.style.height=b.h+"px"),d.style.left=-b.x+"px",d.style.top=-b.y+"px";var k=[b.y,b.w+b.x,b.y+b.h,b.x];d.style.clip="rect("+k.join("px,")+"px)";var S=b.w,C=S/2;y+C>v?y=v-S:y<C?y=0:y-=C,h.style.left=y+"px"}}function y(){h.style.left="-1000px"}}r.ready((function(){o=r.remoteTextTracks(),h(),s||o.addEventListener("addtrack",h)}))};var o=s(r("./node_modules/video.js/dist/video.cjs.js")),a=s(r("./node_modules/global/window.js"));function s(e){return e&&e.__esModule?e:{default:e}}var l={width:0,height:0,basePath:"",urlParams:{}};function u(e){return"HTML"!==e.nodeName&&"static"===function(e,t){return function(r){return a.default.getComputedStyle?a.default.getComputedStyle(e,t)[r]:e.currentStyle[r]}}(e)("position")?u(e.offsetParent):e}function c(e){var t=e.indexOf("#");if(-1===t)return{src:e,x:0,y:0,w:0,h:0};var r=e.substring(0,t),n=e.substring(t+1);if("xywh="!==n.substring(0,5))return{src:l.basePath+r,x:0,y:0,w:0,h:0};var i=n.substring(5).split(",");return{src:l.basePath+r,x:+i[0],y:+i[1],w:+i[2],h:+i[3]}}},"./node_modules/videojs-swf/package.json":function(e){e.exports={a:"5.4.2"}},"./node_modules/videojs-vtt.js/lib/browser-index.js":function(e,t,r){var n=r("./node_modules/global/window.js"),i=e.exports={WebVTT:r("./node_modules/videojs-vtt.js/lib/vtt.js"),VTTCue:r("./node_modules/videojs-vtt.js/lib/vttcue.js"),VTTRegion:r("./node_modules/videojs-vtt.js/lib/vttregion.js")};n.vttjs=i,n.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=n.VTTCue,l=n.VTTRegion;i.shim=function(){n.VTTCue=o,n.VTTRegion=a},i.restore=function(){n.VTTCue=s,n.VTTRegion=l},n.VTTCue||i.shim()},"./node_modules/videojs-vtt.js/lib/vtt.js":function(e,t){var r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function o(){this.values=r(null)}function a(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(r);if(2===a.length)t(a[0],a[1])}}function s(e,t,r){var s=e;function l(){var t=i(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=l(),u(),"--\x3e"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),u(),t.endTime=l(),u(),function(e,t){var n=new o;a(e,(function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}n.prototype=r(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function d(e,t){function r(){if(!t)return null;var e,r=t.match(/^([^<]*)(<[^>]*>?)?/);return e=r[1]?r[1]:r[2],t=t.substr(e.length),e}function n(e){return l[e]}function o(e){for(;_=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(_[0],n);return e}function a(e,t){return!h[t.localName]||h[t.localName]===e.localName}function s(t,r){var n=u[t];if(!n)return null;var i=e.document.createElement(n);i.localName=n;var o=c[t];return o&&r&&(i[o]=r.trim()),i}for(var d,p=e.document.createElement("div"),f=p,v=[];null!==(d=r());)if("<"!==d[0])f.appendChild(e.document.createTextNode(o(d)));else{if("/"===d[1]){v.length&&v[v.length-1]===d.substr(2).replace(">","")&&(v.pop(),f=f.parentNode);continue}var y,m=i(d.substr(1,d.length-2));if(m){y=e.document.createProcessingInstruction("timestamp",m),f.appendChild(y);continue}var _=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!_)continue;if(!(y=s(_[1],_[3])))continue;if(!a(f,y))continue;_[2]&&(y.className=_[2].substr(1).replace("."," ")),v.push(_[1]),f.appendChild(y),f=y}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(e){for(var t=0;t<p.length;t++){var r=p[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function v(){}function y(e,t,r){var n=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";n&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),v.call(this),this.cue=t,this.cueDiv=d(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(a.direction=function(e){var t=[],r="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function i(e){if(!e||!e.length)return null;var t=e.pop(),r=t.textContent||t.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):r}return"ruby"===t.tagName?i(e):t.childNodes?(n(e,t),i(e)):void 0}for(n(t,e);r=i(t);)for(var o=0;o<r.length;o++)if(f(r.charCodeAt(o)))return"rtl";return"ltr"}(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function m(e){var t,r,n,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function _(e,t,r,n){var i=new m(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(a),h=r[l]+u,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/u)*u),a<0&&(c+=""===o.vertical?r.height:r.width,s=s.reverse()),i.move(d,c)}else{var p=i.lineHeight/r.height*100;switch(o.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new m(t)}var f=function(e,t){for(var i,o=new m(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var l=e.intersectPercentage(r);a>l&&(i=new m(e),a=l),e=new m(o)}return i||o}(i,s);t.move(f.toCSSCompatValues(r))}function g(){}v.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},v.prototype.formatStyle=function(e,t){return 0===e?0:e+t},y.prototype=r(v.prototype),y.prototype.constructor=y,m.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},m.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},m.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},m.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},m.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},m.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},m.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},m.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},g.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},g.convertCueToDOMTree=function(e,t){return e&&t?d(e,t):null};g.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=m.getSimpleBoxPosition(n),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var r,s,l=0;l<t.length;l++)s=t[l],r=new y(e,s,a),n.appendChild(r.div),_(0,r,o,i),s.displayState=r.div,i.push(m.getSimpleBoxPosition(r))}()}else for(var s=0;s<t.length;s++)n.appendChild(t[s].displayState)},g.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},g.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function r(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}function l(e){e.match(/X-TIMESTAMP-MAP/)?a(e,(function(e,r){switch(e){case"X-TIMESTAMP-MAP":!function(e){var r=new o;a(e,(function(e,t){switch(e){case"MPEGT":r.integer(e+"S",t);break;case"LOCA":r.set(e+"L",i(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}(r)}}),/=/):a(e,(function(e,r){switch(e){case"Region":!function(e){var r=new o;if(a(e,(function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new o;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}}),/=/,/\s/),r.has("id")){var n=new(t.vttjs.VTTRegion||t.window.VTTRegion);n.width=r.get("width",100),n.lines=r.get("lines",3),n.regionAnchorX=r.get("regionanchorX",0),n.regionAnchorY=r.get("regionanchorY",100),n.viewportAnchorX=r.get("viewportanchorX",0),n.viewportAnchorY=r.get("viewportanchorY",100),n.scroll=r.get("scroll",""),t.onregion&&t.onregion(n),t.regionList.push({id:r.get("id"),region:n})}}(r)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(u=r()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new n(n.Errors.BadSignature);t.state="HEADER"}for(var h=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(h?h=!1:u=r(),t.state){case"HEADER":/:/.test(u)?l(u):u||(t.state="ID");continue;case"NOTE":u||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){t.state="NOTE";break}if(!u)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===u.indexOf("--\x3e")){t.cue.id=u;continue}case"CUE":try{s(u,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var d=-1!==u.indexOf("--\x3e");if(!u||d&&(h=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=u;continue;case"BADCUE":u||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new n(n.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=g},"./node_modules/videojs-vtt.js/lib/vttcue.js":function(e,t){var r={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function a(e,t,n){var a=this,s=/MSIE\s8\.0/.test(navigator.userAgent),l={};s?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var u="",c=!1,h=e,d=t,p=n,f=null,v="",y=!0,m="auto",_="start",g=50,b="middle",T=50,w="middle";if(Object.defineProperty(a,"id",o({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(a,"pauseOnExit",o({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(a,"startTime",o({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",o({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",o({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",o({},l,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",o({},l,{get:function(){return v},set:function(e){var t=function(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",o({},l,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",o({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",o({},l,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",o({},l,{get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",o({},l,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",o({},l,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",o({},l,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),a.displayState=void 0,s)return a}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},"./node_modules/videojs-vtt.js/lib/vttregion.js":function(e,t){var r={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}}}]);